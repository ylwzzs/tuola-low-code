---
aliases: ["1965191392367196488"]
title: 函数列表
created: 2025-07-15
modified: 2025-07-15
tags: ['表单引擎']
theme: 业务表单
---

**什么是自定义JS脚本函数**

自定义JS脚本函数是指将一段自定义编写的JavaScript脚本作为一个单独函数来使用。

在某些情况下，若系统函数无法满足需求，可以通过自定义脚本的方式来实现。

**如何新建函数**

进入函数列表，默认进入自定义函数列表，在列表中显示自定义的函数；

点击右上角的新建按钮，弹窗进行函数的编写；

![](2800f7d3d6be76e7d79a120e0e2c6009.jpg)

**怎么编写自定义JS脚本函数**

第一步：填写函数标题，必填项，长度500个字符，用于在函数编辑器和自定义JS脚本列表中展示

第二步：填写函数描述，非必填，长度500个字符，用于再函数编辑器和自定义JS脚本列表中展示

第三步：选择结果类型，必填项，长度2万个字符，选择数字，则代表函数返回的结果会格式化成数字类型数据。选择字符，则代表函数返回的结果会格式化成字符类型数据。

第四步：编辑JavaScript脚本正文，必填项，长度2万个字符，输入标准的JS语法函数体

**如何取值**

**1、文本、数字：**

文本取值逻辑：无需其他解析操作，直接使用参数进行运算。

例：

脚本内容如下

function testNumber ( a ){

var c=a+1;

return c;

}

编写公式：testNumber({表A.数字字段})=4

假设表A的数字字段填写了3

当前公式计算结果：为TRUE，其中testNumber函数的脚本计算结果为3+1=4

**2、选项型（包括关联控件、单选框、多选框、下拉框、多级下拉框等）**

选项型数据取值逻辑：入参包含三个属性的数据，optionId为选中的选项ID，是一串数字，optionContent为选中的选项名称，name为控件本身的名称。

例：

脚本内容如下

function test ( a ){

var dataId=a.optionId;

var dataName=a.optionContent;

return dataId;

}

编写公式：test({表A.单选框})=VALUE({C:选项2})

假设单选框选中了选项1，选项1的ID为123456789，选项2的ID为987654321

当前公式计算结果为：FALSE，其中test函数脚本计算结果为 123456789，test函数体中的dataId参数结果为123456789，test函数体中的dataName参数结果为"选项1"

**3、数组类型**

数组类型取值逻辑：数组参数不能作为单个参数入参，请指定好入参个数再进行操作，数组参数可直接用于for循环中

例：

脚本内容如下

function testArray( a , b ){

var c=0;

var d="";

for(var i=0;i

c+=a[i];

}

for(var j=0;j

d+=b[j];

}

return c;

}

编写公式：testArray([1,2,3],['a','b','c'])=6

当前公式计算结果为：TRUE，其中testArray函数脚本计算结果为6，testArray函数体中的c参数结果为6,testArray函数体中的d参数结果为"abc"

**其他注意事项**

**1，脚本中只支持JavaScript语法，其他的语法一概无法运算**

**2，已经保存的自定义JS脚本函数，一旦被其他公式使用就无法直接删除，需要在公式中剔除要删除的JS脚本函数，然后才能继续删除**

**3，结果类型一旦保存，无法被修改，防止函数返回类型变更后导致公式报错**

**4，JS自定义脚本内容支持复制粘贴**

**5，JS自定义脚本的校验需要在公式编辑器中完成**

**参考示例**

场景：字符分割。

如有一串数据，是好几个参数拼接在一起返回的，此时我们想把它分隔开。

但是此时系统中无分割函数，这时可以通过编写自定义脚本进行实现。

![](bec083f258154113061b9f20ad23c989.jpg)

说明：新建的“字符分割函数”第一个参数传一个字符，第二个通过什么去分割，第三个从第几位去分割。

注意：起始位为编程语言，从0开始计算。

![](8d93814b9715f4818305f964ec2ad1d4.jpg)

使用：

**![](2f01ebddb9c5fb512e0b44753292af55.jpg)**

效果：

![](ec7ad60f9d4fac7411aa274360b327f6.jpg)

![](c51b6b6dad3a8377991a7465566b915b.jpg)