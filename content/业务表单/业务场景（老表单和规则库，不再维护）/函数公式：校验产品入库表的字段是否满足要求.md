---
aliases: ["1588821537570881116"]
title: 函数公式：校验产品入库表的字段是否满足要求
created: 2025-07-15
modified: 2025-07-15
tags: ['表单引擎']
theme: 业务表单
---

**一、业务场景**

某零售业库房在提交入库产品时，有以下几点要求：产品编号必须为10位数，每次录入的产品数量在100-2000之间，录入产品的生产日期不能超过200天。

**二、设计要点**

[[#申请表|1.搭建产品入库申请表，包含产品编码、产品名称、入库数量、生产日期等字段。]]

[[#校验规则|2.在规则库中，分别通过不同函数新建三个校验规则。]]

[[#绑定规则到审批表|3.绑定这三种校验规则到产品入库申请表。]]

[[#提交验证|4.提交入库申请时，会校验以上字段的信息是否满足要求。]]

**三、操作说明**

1. 已搭建好的产品入库申请表，字段包含：产品编号、产品名称、入库数量、生产日期等，如下图：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/c482a198d7bd89376595ba882ce3beb7.jpg)

2. 设置校验规则①：编号长度为10。在规则库中选择函数校验规则，并使用字符函数中的LEN函数（返回文本长度）设置产品编号字段的长度=10，并设置不满足校验时的提示语，如下图：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/5f0cf79496d7a682c67a26ab95a38d4b.jpg)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/7cb65dd2fcfc533d9b590c1e94a662de.jpg)

3. 设置校验规则②：入库数量在100-2000之间。在规则库中选择函数校验规则设置入库数量在100-2000之间，并设置不满足校验时的提示语，如下图：

ANA() ：AND函数为与函数，当括号内每个逗号隔开的值都为true时，返回值为true；

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/bc072107765b2c949d9c20bdd260a786.jpg)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/0467630979e287702353787fb7052d95.jpg)

4、设置校验规则③：生产日期不超过200天。在规则库中选择函数校验规则设置生产日期不超过200天，即设置当前时间与生产日期的差值小于200天，并设置不满足校验，如下图所示：

DATEDIFF()：表示两个日期之间的差值，以英文逗号隔开

TODAY()：表示当前日期

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/93b5b5a3d62c35b1b062749388401a7a.jpg)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/71ce72fa5a48baa1e88d31ecda35d4d8.jpg)

5、在对应审批表触发规则中设置触发规则：①编号长度为10，②编号长度为10，③生产日期不超过200天，如下图：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/ab8fb392e68410daa73355e615d4c7eb.jpg)

6、配置完成后，提交审批表会校验规则，不满足条件时提醒不能提交，并给出对应提示，如下图：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/1845cafd7121baaeb5816701c0ec4ff2.jpg)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/099f6bfc7ddb782affe85e31dd2d6cfd.jpg)

