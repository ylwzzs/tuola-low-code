---
aliases: ["2511734802289129801"]
title: 渠道管理
created: 2025-07-15
modified: 2025-07-15
tags: ['表单引擎']
theme: 业务表单
---

## •[[#场景介绍|场景介绍]]

## •[[#解决方案|解决方案]]

## •[[#操作步骤|操作步骤]]

## ◦[[#搭建5个表单和1个审批表|搭建5个表单和1个审批表]]

## ◦[[#新建2个更新数据规则和1个校验规则|新建2个更新数据规则和1个校验规则]]

## ◦[[#配置规则|配置规则]]

**场景介绍**

某公司以产品分销为主要经营模式，不同的渠道分销商销售不同的产品享有不同的分润提取百分比，百分比在1-9%范围内。现需要在签订订单后直接自动计算出该渠道产品的分润提成并自动汇总。渠道提取分润时，统一记录。

**解决方案**

使用渠道表记录不同渠道的信息、分润金额和剩余未提取分润金额。

使用产品渠道表记录不同渠道不同产品的分润比例，在提交订单审批时选择产品渠道表中的数据，**自动计算分润提成**。订单审批由提交人的直接上级进行审批，审批后由收款员确认订单收款情况。审批通过后，触发规则将分润金额加到渠道表中。

提交分润提取时，触发规则**对渠道表中的已提取金额进行更新**。并且通过校验规则**校验剩余可提取金额**小于或等于提取金额。

**操作步骤**

## ◦搭建5个表单和1个审批表

搭建订单审批表和5个业务表单：分润提取明细表、结算梯度配置表、产品渠道表、产品表和渠道表。

了解更多：[[表单搭建|表单搭建]]

**订单审批表**用来提交订单审批，效果如下图：

![](d5abafc390c0fa150dac6999ab1d5215.jpg)

设置如下图：

![](db5c295a49ac73ca6d573ac18ec5e93a.jpg)

其中，分润比例的函数公式设置如下图：

![](61ffca0540b89c93a37d4e19f50adc4d.jpg)

公式为：VALUE(MID(TEXT({当前数据.结算梯度}),6,1))。取当前数据的结算梯度字段，转化为文本后，取第7个字符，再转换为数字。

请注意，该函数公式的前提是对结算梯度配置表设置自定义标题：（标题效果为：第一阶梯-2%）

![](4268cb2fb498fac1b54867a12cbe77dc.jpg)

审批流程设置如下图：（下图中为提交节点的字段权限设置）

![](2e2dc84fd14c6c62f87b37f7b9f0c403.jpg)

上级审批节点无填写权限。收款员确认节点的字段权限设置如下图：

![](fcf26e5d2862a1aba22780018e261bcf.jpg)

**分润提取明细**表**用于记录分润提取明细，使用效果如下图：

![](afbe1f4b5d222f45e1feb46f6b3d8430.jpg)

设置如下图：![](286822e98234c58ee8cfdf512fc23ff4.jpg)

**结算梯度配置表**用于记录不同等级的结算梯度和对应的百分比，效果如下图：

![](ee647d17fd57e447f14cf7a4214abd2f.jpg)

**产品渠道表**用于记录不同渠道、不同产品和不同结算梯度之间的对应关系，效果如下图：

![](9a2a2a1709df9d69fe05a0f40afe13a9.jpg)

**产品表**用于记录产品信息，效果如下图：

![](59775f4e7d2789400eb8c38197210ed3.jpg)

**渠道表**用于记录不同渠道的信息、分润金额和剩余未提取分润金额，效果如下图：

![](575a141ed3f659b5ee3b24c53600007a.jpg)

设置如下图：

![](10f0b49d295c1c9e6186142e67a8300e.jpg)

根据需要，为了让选择关联表单数据时，更为直观，这几个表单都可以设置自定义标题。

了解更多：[[自定义标题设置|自定义标题设置]]

## ◦新建2个更新数据规则和1个校验规则

搭建2个更新规则和1个校验规则，分润提取、订单分润合计和校验提取金额。

了解更多：[[待下载-未知ID_2501079707546337288|更新数据规则]] [[待下载-未知ID_1582842873979163738|数据校验规则]]

**订单分润合计**规则设置如下图：

![](635df9d9402ff9fed5ba1503fe4831ef.jpg)

校验函数公式为：AND({渠道表.渠道名称}=TEXT({当前数据.渠道}))

**分润提取**更新规则设置如下图：

![](dec601890b2d44290260d533022e3ccd.jpg)

**校验提取金额**校验规则设置如下图：

![](7e00d48d19b2c2578a810130d714daf1.jpg)

校验函数公式内容为：OR({当前数据.剩余金额}>{当前数据.提取金额},{当前数据.剩余金额}={当前数据.提取金额})

## ◦配置规则

将提取校验金额和分润提取规则添加到分润提取明细表中（有先后顺序），如下图：

了解更多：[[触发规则设置（规则库已不维护，通过动作流实现）|触发规则设置]]

![](f7d17d6c3ade5bdfb8fbfea03facd138.jpg)

将订单分润合计规则添加到分润提取明细表中，如下图：

了解更多：[[待下载-未知ID_2500391214834014579|触发规则设置]]

![](34607099188560d0ae4350d20cc35849.jpg)