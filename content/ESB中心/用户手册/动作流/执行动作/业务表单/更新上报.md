---
aliases: ["1973995190755960345"]
title: 更新上报
created: 2025-07-29
modified: 2025-07-29
tags: ['ESB中心']
theme: ESB中心
---

**一、**使用背景**

通过动作流更新业务表单数据

**二、**组件介绍**

更新上报（执行组件）

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/6b6f6057d02dab3c7960df6d84c9cacc.jpg)

上报表单：需要更新数据的目标表单

类型：按数据ID更新，按条件更新、按字段匹配更新

依据值：用于判断批量更新数据的条数，一般配置来源数据（数组数据）

数据id：被更新数据的id

条件不满足时设置新增数据：到根据更新条件找不到数据时，新增数据

无数据时状态：控制找不到数据时，组件的执行状态，开启为成功，关闭为失败

标题：设置上报数据的标题

操作人：数据更新人、需要传id

上报数据：设置字段映射，设置需要被更新的字段值

字段设置中的字段设置内容

(1) 固定值：输入的数据具体值

(2) 依据值下级：当前行的数据

(3) 动态赋值：直接选明细字段会取所有行的当前字段的值

传空值时执行：开启后若条件右侧传值为空值仍按配置规则执行修改表单动作

**三、**场景举例**

**3.1**根据数据id批量更新的场景**

**需求说明**

流程明细表数据->业务表单台账数据（批量更新数据场景）

**实现思路**

流程触发(触发组件)+更新上报(按数据id更新，执行组件)

1、配置流程触发、动作流的触发节点配置

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/2c0ebba49d2495145da4f5565565bfab.jpg)

2、配置更新上报组件、指定需要更新的表单，指定操作人（需配置id）、更新方式-按数据ID更新，依据值动态赋值选择流程触发的明细表数据，字段设置中的字段设置对应关系

（1）指定上报表单，设置数据的更新（需要配置人员id）

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/09890d0f53bd7f43d836235507be61da.jpg)

（2）依据值选择流程触发-表单数据的明细表

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/2ad0c2de342dd67f248d8733d64d7d36.jpg)

（3）设置被更新数据的数据ID，应选择依据值下级的关联表单字段数据

（4）设置数据目标表字段内容

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/09c309789f191e0f359a03afc6c957fc.jpg)

如上，如果按原本逻辑，循环100次，假如每次调用接口更新数据需要1秒 则动作流需要100秒耗时。改成批量更新的场景后，则只需要调用一次更新上报的接口，可以实现多条数据的同时更新

**3.2**条件字段批量更新的场景**

**需求**说明**

根据流程明细数据、匹配对应的数据台账数据，并且更新这些数据的状态

**实现思路**

流程触发(触发组件)+更新上报数据(按条件字段匹配更新，执行组件)

1、配置流程触发、动作流的触发节点配置

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/f656c0639fd0d50c2b1904f3f07b6cf3.jpg)

2、配置更新上报组件、指定需要更新的表单，指定操作人（需配置id）、更新方式-按字段更新，依据值动态赋值选择流程触发的明细表数据，需要设置更新的条件（当前字段条件都是’且‘的关系），字段设置中的字段设置对应关系

（1）指定业务表单，设置数据的更新（需要配置人员id）

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/1fd1acc1e28bbb8e286ab979c1e06042.jpg)

（2）设置条件字段设置（多个条件字段之间的是且的关系）、如图所示

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/37367f289081a2dd25e0155a9b91a2c2.jpg)

（3）设置数据目标表字段内容（注意：作为条件匹配的字段，无法作为被更新字段）

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/e4327deca7859243eb4ff0189021ee84.jpg)

