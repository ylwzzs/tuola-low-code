---
aliases: ["1968950841407841042"]
title: 还原数据
created: 2025-07-15
modified: 2025-07-15
tags: ['ESB中心']
theme: ESB中心
---

场景：通过审批触发组件删除业务表单数据再将数据进行还原（审批表单中有个关联表单数据的关联控件将审批表和业务表单数据进行关联，且还原功能一般和删除一起使用）

规则库配置：

![](eb7db1162c1f55cddc344dfcdebd66d8.jpg)

动作流配置：

a、审批表单中有个关联表单数据的关联控件为单选字段时

审批触发组件+删除上报组件+还原上报组件，还原上报组件的上报数据选择删除上报组件上下文中的回收ID

![](054957a6d5a4f3f13fed24b5ebdb009b.jpg)

b、审批表单中有个关联表单数据的关联控件为多选字段时

审批触发组件+多次执行组件+删除上报组件+还原上报组件

多次执行：循环次数是为了计算出要做几次删除动作，因为删除上报组件的上报数据是单选的，每次只能删除一条数据，那么多选的关联表单数据字段就得先算出有几个数据，需要做几次删除，选择多次执行的指定数据，数据选择多选关联表单数据字段（在上报删除的帮助文档中用的是指定次数，功能是一样的，只是指定数据在配置上相对简单点）

删除上报：上报数据选择多次执行下的数据，意味着每进行一次多次执行都可以取到这次数据的本身

还原上报：上报数据选择删除上报上下文中的回收ID

![](018bf5a573c7a69186601a2952e29348.jpg)

![](23c7e96763d2242961f5b85ce8940dce.jpg)