---
aliases: ["1969140105035541300"]
title: 删除/还原表单数据
created: 2025-07-29
modified: 2025-07-29
tags: ['ESB中心']
theme: ESB中心
---

**1.** **场景说明**

在对数据进行日常管理的过程中，我们常用的操作可以简要的概括为增、删、改、查，对应的就是动作流中的新增、删除、更新、查询表单数据等操作，此外，动作流中还包括还原表单数据的功能。例如在客户跟进场景中，客户信息录入后进行跟进，并生成多条跟进记录，客户成功签单或者丢单后可以选择删除历史跟进记录，只保留正在跟进的客户，需要使用时再还原跟进记录。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/76b9179d7e713d19d505becef1439199.jpg)

**2.** **功能简介**

上述场景是基于动作流中删除表单数据与还原表单数据功能实现的，在删除表单数据时，我们可以利用条件设置进行数据筛选，从而删除对应的符合条件的数据；在还原数据时，我们需要利用被还原数据的数据ID进行匹配，找到对应的数据进行还原。

**3.** **操作说明**

**1.搭建eb表单：**

在本场景中，我们需要搭建客户信息表与客户跟进表,在客户信息表中添加客户跟进明细，每一次填写跟进表后，客户信息表中的明细就新增一行（利用动作流实现），并且明细表中的跟进编号字段是eb关联字段，用来承载跟进表中每一条数据的数据ID。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/09c3f87645dd257ad2ac1d77f6148eac.jpg)

动作流新增跟进明细如下：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/5b4c45f9ef46efd991ac92ad9399986c.jpg)

**2.删除表单数据（将表单数据删除并放入回收站中）**

在客户跟进签单/丢单之后，因为客户信息表的明细中已经记录了关键的跟进信息，所以跟进表中的数据可以删除，只保留还在跟进的客户，方便用户查看。此时我们可以新建一个自定义按钮“清空记录”，设置数据过滤：当客户状态为签单/丢单，并且跟进数据还正常保留时显示：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/c5a7ac616ee04c77b770e51b816acd06.jpg)

之后可以依据此按钮设置动作流的触发动作，并添加动作：删除表单数据，由于我们跟进表中的跟进客户字段用的是关联eb字段，关联客户信息表中的数据，所以我们可以设置这个关联eb字段＝数据ID。注意，关联e-Builder字段承载的是被关联数据的一整个数据信息，数据ID起标识作用，标题栏只作为显示作用。配置效果如下：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/921bb4fdbdf2fc64c9f9bd9cd7aad237.jpg)

**3.还原表单数据（将回收站中的数据还原回表单中）**

客户跟进记录删除后，若想还原数据，与第二步相同，设置一个自定义按钮“还原记录”，之后依据该按钮设置动作流，配置执行动作：还原表单数据。由于客户的跟进记录存储在客户信息的明细表中，因此我们需要使用多次循环，将每条跟进记录都还原出来，此外，还原表单数据的条件目前仅支持数据ID相等，所以我们需要利用明细表中的关联eb字段“跟进编号”：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/45d216f4341298c74ae60aaf41e4a9e0.jpg)

