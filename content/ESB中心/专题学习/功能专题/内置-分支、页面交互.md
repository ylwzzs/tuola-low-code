---
aliases: ["1967818683346432000"]
title: 内置-分支、页面交互
created: 2025-07-29
modified: 2025-07-29
tags: ['ESB中心']
theme: ESB中心
---

**1. 场景说明**

通常处置会员消费时会使用储值卡，为了防止卡内余额不足时仍进行了消费，造成商家的损失，一般会进行储值卡内余额和当前消费总额的校验，如储值会员使用会员卡消费时，通常需要判断卡内余额是否充足，若余额不足，消费时则给出提示，余额充足时则修改会与卡余额。

展示效果如下：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/5c3deeb70200d33440a26301a5eee73d.jpg)

**2. 功能简介**

上述场景可以通过动作流执行事件中内置的【条件分支】进行判断，判断结果的处理分别由执行事件中内置的【页面交互】和标准应用中eb的【修改表单数据】组合配置实现。首先条件分支对比卡内余额和本次消费总额，若余额充足，则允许消费，且消费结束后扣减对应会员卡余额；若余额不足，则提示卡内余额不足，需要充值，且不允许进行本次消费。

**3.操作说明**

1、设置触发条件--【点击按钮时】，选择应用，表单及触发的按钮和触发类型。

注意：触发按钮要选择执行前，即在消费成功之前就需要做出判断，若选择执行后，就会生成消费记录。

- 执行前：在按钮的默认动作执行前触发
- 执行后：在按钮的默认动作执行后触发

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/35926b7459be6ba53cbe03712d9e71c9.jpg)

2、选择执行条件--条件执行，执行方式为按优先级执行（即只执行优先级最高的满足条件的分支，其他分支均不执行（优先级从左往右排列）；而并列执行则为所有的满足条件的分支均会执行），进行条件设置为消费金额大于本次消费前余额。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/a719849994bf40c6ff7495b15c42c373.jpg)

3、对满足条件的分支添加后续操作，消费金额大于余额时，选择执行动作-页面交互，配置提醒内容“会员当前余额不足，请充值后消费！”且阻止后续操作，即阻止当前数据的保存；不满足该条件时，则选择修改表单数据，即修改会员卡余额信息。

