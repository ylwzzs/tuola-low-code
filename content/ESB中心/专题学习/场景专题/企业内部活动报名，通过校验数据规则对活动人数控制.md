---
aliases: ["1969018528915641102"]
title: 企业内部活动报名，通过校验数据规则对活动人数控制
created: 2025-07-15
modified: 2025-07-15
tags: ['ESB中心']
theme: ESB中心
---

一、场景介绍

企业内部会组织各种活动，比如演讲比赛等活动会限制人数参加，当报名人数超过可报名人数，提醒用户报名人数已足够，活动负责人还可统一管理活动信息，保存活动记录、报名记录，统计了解活动的报名情况。

设计要点：

1.搭建活动信息表，包含活动的名称、报名人数等信息。

2.搭建活动报名表，内部员工可报名参加。

3.配置规则库更新规则，每次报名一个员工，报名剩余名额减一。

4.配置规则库校验规则，当活动剩余名额为零，无法报名并提醒用户。

5.统计图表可直观查看活动的报名情况。

二、配置步骤

1.使用自定义表单搭建活动信息表，其中活动名称与报名人数要求为必填项，已报名人数默认为0且为只读，剩余人数使用运算控件（报名人数要求-已报名人数）或者函数去进行计算，字段信息如下图所示

![](cdab9d8646f0d89e65e6867c7d3ec230.jpg)

2.通过自定义表单搭建报名表，其中活动名称、姓名、所在部门为必填项，所在部门根据姓名联动，剩余名额钻取活动信息表中的“剩余人数字段”（使用关联表单控件），如下图所示

![](4fe05adb79367c5f1c53004210ab1727.jpg)

3.配置更新已报人数数据规则，在动作流模块新建动作流1，使用按钮触发组件+更新表单数据组件即可

![](0fcc74cee7b772577795825e6f48d61c.jpg)

注：

a、已报人数，利用=+配置进行更新，每触发一次，就增加1

b、勾选启用数据钻取及数据计算：目的是为了在动作流这可以获取到在表单设计器中利用函数或运算控件设置计算的剩余人数的值

4.配置数据校验规则，数据来源表选择“报名表”，校验内容为“剩余人数大于0”并填写不满足时的提示语，此规则的目的是校验报名剩余名额。动作流模块新建动作流2，使用按钮触发组件+分支组件+页面交互即可如下图所示：

![](25e10fe82ff03c3f6ab450a5eab25223.jpg)