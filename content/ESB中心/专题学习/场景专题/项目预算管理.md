---
aliases: ["1968983626852341062"]
title: 项目预算管理
created: 2025-07-15
modified: 2025-07-15
tags: ['ESB中心']
theme: ESB中心
---

##### **一、业务场景**

某公司对项目进行预算管理，预算项目包括采购预算、劳务预算、物流预算和出差餐饮住宿预算。在项目初期设置预算金额，后期对项目中实际使用的金额进行记录，若项目预算已花完，需对项目负责人预警。

##### **二**、**操作说明**

1、搭建项目预算表和项目费用请款单

项目预算表中剩余金额设置函数 剩余金额 = 预算合计 - 已用预算

![](367a17e8bd45a3e2810d2500be57b207.jpg)

2、ESB中心新建动作流，选择流程触发组件+业务表单更新上报组件+查询表单组件+分支+消息提醒组件

更新业务表单组件根据请款单请款项目追加预算明细，并将明细金额合计入已用预算字段

![](2ab8df6a180e496d337655099e0e0aef.jpg)

根据流程中传的业务表单id查询对应业务表单，若数据的已用预算字段小于等于0则给对应项目负责人发送系统消息

![](28bd65fdf3feac5bc7266bf9dfb55ddf.jpg)

4、执行效果

效果一：项目费用申请单归档后记录到对应项目的明细中并计算已用预算

![](0790031c0c9c7fdcd88b85d06d5ec4ae.jpg)效果二：当项目费用申请单归档且剩余金额小于等于0则给对应项目负责人发送消息提醒

![](0bef30a1f5283c0d794f0d9a261463c5.jpg)