---
aliases: ["1967573512962770895"]
title: 自动累计会员消费金额并更新会员等级
created: 2025-07-15
modified: 2025-07-15
tags: ['ESB中心']
theme: ESB中心
---

**1. 场景说明：**

如【会员管理】场景中，每次会员进行消费，系统中都会记录其消费订单金额，并对该会员的消费情况进行累计汇总。当会员累计消费金额达到对应升级等级金额时，会员等级将自动升级，并更新“累计消费金额”数据。

*展示效果如下图所示：*

![](639d5ae78b91d64bdefb0270b6af9b41.jpg)

**2. 功能简介：**

本场景使用的动作流是利用【触发事件】--【点击按钮时】，触发【执行动作】--【内置】--【条件分支】进行数据判断，根据当前数据所满足的不同条件，进行【执行动作】--【标准应用】--【e-builder】--【修改表单数据】从而进行数据变更的。该动作流可以根据当前“会员消费累计”情况自动进行判断，满足不同条件则执行对应执行动作修改表单数据，实现会员自动升级以及“累计消费金额”数据更新。

**3. 操作说明**

（1） 首先选择【触发事件】--【点击按钮时】，对其应用、表单进行配置。选择触发按钮为新建类型按钮，设置其触发位置为“执行后”并选择触发类型为“依次触发”。

![](20ec1e79af844b94e452da54a49801e9.jpg)

（2） 选择【执行动作】--【内置】--【条件分支】，设置会员升级条件。

![](3699d82b8f5cb6be60434869b157189d.jpg)

配置条件1，“（累计消费金额大于5000且小于10000）AND（会员等级等于825500995043385347）”，若符合条件则会员从普通会员升级为银卡会员：

![](398328a3c6d281e712511283011fe78b.jpg)

因为条件1中包含了2个条件，所以将两个条件设置为AND关系。

![](57f441146b57237b2d01ddccc5ad0f5d.jpg)

其中因为会员等级属于关联e-builder字段，所以在进行条件配置的时候利用对应等级会员的数据ID进行数据匹配。

条件1中的数据ID为普通会员的数据ID。

![](e8ce8bf83a08f18af23faede906f58f5.jpg)

配置条件2，“（累计消费金额大于10000）”，若满足该条件则会员升级为金卡会员。

![](23d30f60bf29fa6fe098a3eecd3fd150.jpg)

（3） 完成【条件分支】配置后，进行【执行动作】--【标准应用】--【e-builder】--【修改表单数据】配置，根据会员订单消费金额更改会员等级信息以及会员“目前消费金额”信息。

满足条件1后执行的修改表单操作配置：

![](3e17353961df9e876f7cc2b3127d0ef2.jpg)

其中到达指定消费金额后，会员升级为固定等级，所以会员等级设置为固定值。（因为会员等级字段为关联e-builder字段，所以在这里需要选择对应的关联e-builder字段作为固定值的赋值内容。）

因关联e-builder字段数据内容过长，直接选择时无法看到字段全部信息。则可以点击后方放大镜按钮，即可查看对应数据信息。

![](971b54cec4c51ed4417f362b0407234b.jpg)

满足条件2后执行的修改表单操作配置与上述同理，具体配置如下图：

![](14d9810bc603c8efcfff599c2ba129c0.jpg)

![](24229968a8946d6e622c668ea63fae36.jpg)