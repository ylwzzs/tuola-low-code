---
aliases: ["1967592798387570920"]
title: 按钮实现质检过程不合格产品的一键处理
created: 2025-07-29
modified: 2025-07-29
tags: ['ESB中心']
theme: ESB中心
---

**1.** **场景说明**

自定义按钮通过配置可以实现许多功能。如在生产质检系统应用中，对于检验不合格的产品需要进行处理：

登记人员将不合格产品在“不合格产品信息表单”（以下简称信息单）登记后，处理状态显示“待处理”，行上按钮为“去处理”；

点击按钮，则会自动打开“不合格产品处理表单”（以下简称处理单）的新建布局，并将不合格产品的详细信息代入，此时信息单中的处理状态显示“处理中”，行上按钮为“确认完成”；

不合格产品处理完成后，用户点击按钮，处理状态显示“已处理”，行上无按钮。

展示效果如下：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/31a8eaa058734c3d833b3f7cf1a9d187.jpg)

**2.** **功能简介**

上述场景可以通过后台-表单-【按钮】功能实现：本场景需要在信息单内设置“去处理”和“确认完成”两个按钮，通过数据过滤实现不同的“检验状态”展示不同的按钮。与此同时，通过按钮动作实现打开处理单的新建布局，并结合动作流修改表单数据。自定义按钮功能丰富多样，运用自定义按钮可以提高用户的操作便捷性，提高用户的系统使用体验。

**3.** **操作说明**

1.进入后台-对应表单-按钮-新建，即可新建按钮。本场景需要设置两个按钮：“去处理”和“确认完成”。两者所要实现的功能相似，接下来先重点讲解一下自定义按钮“去处理”的配置步骤。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/129ff6fe7806d5f8efe200ef211fa431.jpg)

2.配置自定义按钮“去处理”的基本信息：打开新建按钮页面后，

① 按钮名称：设置按钮名称为“去处理”，

② 显示位置：显示位置分为表单视图与表格视图，本场景需要在表格视图台账中的每一条数据后展示按钮，所以显示位置选择表格视图-行上

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/17933a9f80bb94988820f0de3be21665.jpg)

③ 数据过滤：默认为关闭状态，场景中只有当“检验状态”为待处理时，按钮才会显示，所以我们需要启用数据过滤，设置处理状态等于“待处理”。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/f5852054af7654493ea48313b92dc233.jpg)

④ 图标：图标是为了增加按钮辨识度与美观度，设置后可以“仅显示图标”，注意当按钮显示位置是【右上角】时，图标和仅显示图标配置不生效

⑤ 启用：按钮默认为关闭状态（不启用），需要手动开启。

3. 配置自定义按钮“去处理”的按钮动作：场景中该按钮需要完成两个动作：打开另一张表单（处理单）的新建布局，并将一些信息带过去；通过动作流修改本表单的字段“检验状态”的值为“处理中”。

① 打开另一张表单新建布局并带入信息：点击新建动作-添加，在选项配置中，默认动作为打开页面，链接地址选择表单-不合格产品处理-新建布局。

之后需要进行参数配置，由于我们在处理单中利用eb字段（不合格批次）关联了信息单，并将“物品名称、不合格数量”等字段也通过此eb字段进行了关联。所以这里设置该eb字段（不合格批次）等于原表单数据ID,即可带出原表单信息。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/b7978b3eb9cbee248f5025650be20a4a.jpg)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/17dc81f5aaecb83a4b81079561d86930.jpg)

② 修改本表单的字段：该动作需要配置动作流完成，打开动作流配置页面，添加触发事件：表单提交时修改另一张表单数据。

“点击按钮时页面”：选择相关的应用以及表单，按钮选择我们刚刚设置的去处理按钮

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/bcef57037c275abe6989d7be1478d4fc.jpg)

“修改表单数据页面”：同样选择该应用以及表单；操作人按需选择，此处设置为当前用户；动态赋值选择数据ID（动态赋值选数据ID适用于修改同表单信息）；设置表单数据中将“处理状态”设定为固定值“处理中”。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/7ec949d727799e6a7bbc9fa9af2a7cbc.jpg)

点击保存，这样点击“去处理”按钮就能触发动作流：将检验状态从“待处理”改为“处理中”。

我们回到表单-按钮-去处理按钮的编辑页面，可以看到我们设置的两个动作：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/6defcd1829f22f4b268b185df72cd8c2.jpg)

4. 配置自定义按钮“确认完成”：“确认完成”按钮与“去处理”按钮两者逻辑相似，这里就不做赘述，但是有几点区别需要说一下：

① 创建按钮-基本信息-数据过滤：设置当检验状态等于“处理中”，显示该按钮

② 该按钮无需打开页面，所以动作只有一个：修改本表单数据，将检验状态由“处理中”变成“已完成”，用动作流实现。

5.效果展示：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/f634da455006f6c7768337a9469126a9.jpg)

