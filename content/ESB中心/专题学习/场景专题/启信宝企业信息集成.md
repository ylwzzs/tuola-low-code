---
aliases: ["1971922294098834975"]
title: 启信宝企业信息集成
created: 2025-07-29
modified: 2025-07-29
tags: ['ESB中心']
theme: ESB中心
---

**1.编写目的**

供应商或客户管理场景中，经常需要集成企业信息，对接启信宝实现对企业工商信息的检索查询和风险监控。如下图供应商管理场景中，用户在供应商信息检索页面对企业工商信息进行查询，可直接将查询结果录入到供应商注册台账中，快速建立供应商档案。对已有供应商可在其企业详情页签上查看其完整的工商信息、风险信息、经营信息、知识产权、司法诉讼等内容。

本期就为大家讲解如何通过调用系统内置的启信宝连接器实现启信宝应用接口集成。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/e1545282032215f3544bd054d983a2f9.jpg)

**![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/4cfe1565345d82a97b88e59d930f0337.jpg)**

---

**2.**思路分析**

系统平台引擎ESB中心提供启信宝内置连接器，包含41个接口调用方式。用户可以通过动作流直接调用内置连接器接口，将接口响应结果输出到建模表单、自定义页面或客户模块等，轻松实现企业信息检索和企业风险监控。

**![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/717ed341fdc6d686d9703210b8b748b9.jpg)**

页面设计器提供了企业集成标准组件，输入启信宝接口调用的密匙信息，自动初始化动作流实现启信宝接口调用，将接口响应数据显示在页面上。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/e26fc42a92854009eab156bbc3652024.jpg)

---

**3.**操作说明**

**3.1**设计供应商工商信息检索页面**

添加中间表、表单字段、表单按钮能够实现在自定义页面上录入字段数据，点击按钮时调用自定义触发动作流实现数据查询回显和数据提交。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/86813a1566039ce58cddf248fad1a7cb.jpg)

图1 设计供应商信息检索的页面

设计页面时选项类型字段的选项value必须自定义，和接口返回数据保持一致：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/a57a1e49c5e83b2691531f4028cc63f4.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图2 选项类型字段的value和选项值必须和启信宝接口返回数据一致

**3.2**添加自定义触发动作流**

设计输入参数接收页面录入的关键字数据作为启信宝接口调用的请求参数，执行组件选择内置连接器直接调用启信宝接口，将接口响应结果输出给自定义页面

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/9a4324890999bbf94736827708eb6f29.jpg)

图3 接收页面录入的关键字作为输入参数

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/8ac3fe945a8a2c919989f6d6fee468d7.jpg)

图4 添加执行组件：内置连接器-启信宝-工商照面

新建连接信息，此处的连接信息区别于连接器中的连接信息，此处的连接信息用于输入启信宝要求的请求密匙：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/e96ec3a8dce8e3ddf1684175b3010d26.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图5 配置启信宝内置接口的连接信息

请求参数动态赋值为触发组件接收到的来自页面的关键字：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/431607f95d9d2a831af63d595fb4e49d.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图6 请求参数动态赋值

添加执行组件：内置连接器-启信宝-企业工商风险扫描：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/f5b76f9233167671b34415bdba017176.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图7 添加执行组件企业工商风险扫描

和工商照面类型的配置方式完善连接信息和请求参数：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/6c30a5fa2625c48a41426be659b91098.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图8 企业工商风险扫描组件参数配置

输出组件主表输出工商照面查询结果，明细表输出企业工商风险扫描数据：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/f8e8d6b3c895ba4a927900033195c423.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图9 设置输出参数

接口文档中多数响应参数都是文本类型，但是企业标签是数据类型，设计输出参数是标签组件需要单独启用数组开关：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/b2197867d7be9e2148ad736cacd569a0.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图10 企业标签字段启用数组开关

工商风险扫描API接口返回的字段是number类型，对应整数型输出参数：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/23a6176da27f87620130fa98cf8e8f11.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图11 参数类型匹配

通过动态赋值从内置连接器接口的响应Body中获取接口返回数据：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/8c01fea7f8e05a8b0080dc35c9f11f64.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图12、13 从接口响应Body中获取输出参数的实际值

启信宝工商照面接口返回的原始注册资本数据是文本类型，本系统的注册资本是数字字段，需要根据接口的文本拼接规则，利用动作流函数公式进行数据转换：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/0ea845fcc07d1a4fc680955d2e7137bf.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图14 接口原始响应数据与本系统字段类型不匹配

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/b94b0be431feebe77c99c3296b349235.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图15 接口原始响应数据转换

**3.3** **自定义工商信息检索页面搜索按钮绑定自定义触发动作流**

表单按钮-搜索按钮，设置其动作为关联上一步骤搭建的工商查询动作流，设置其输入输出参数的映射规则：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/731b6d818dde4f6ad20d00cfb3c85b92.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图16 表单按钮动作绑定和参数映射

3.4实现页面查询结果回填建模表单

新建建模表单接收供应商信息，注意事项和页面表单一致，选线字段的选项值和value要和接口响应数据一致

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/203f2f6ac23b170ba6eb9ca9309a3870.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图17 新建建模表单保存供应商信息

创建自定义触发动作流用于将页面字段数据保存到建模表单，维护输入参数接收页面查询结果：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/c20ed30b2d1b4e741adcc616109a8e3f.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图18 新建动作流将页面数据保存到建模表单

添加更新表单数据组件，启用条件不满足时插入，按照企业id对供应商信息进行更新追加，防止出现供应商信息重复：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/758c66d0ad981a68dacedbd72062a2b4.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图19 将输入参数写入建模表单

供应商工商信息检索页面新建供应商按钮绑定新建供应商动作流，映射输入参数：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/127685f28de44ca3038e066fc650e3f4.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图20 新建供应商按钮绑定新建建模数据按钮

**3.5**设计企业详情页面**

顶部的企业基本信息和下面的企业经营信息等展示内容根据当前查看的企业名称动态变化，设计页面时顶部的基本信息通过HTML组件展示，在HTML组件上新建数据集，数据源是供应商注册表单，过滤条件是供应商名称等于路径参数corpname；底部的经营信息等通过企业信息集成组件展示，设置组件的配置项企业全名也等于路径参数corpname。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/79587a73bd9e4b00f968be96ef845737.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图21 设计企业详情关联页面

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/3bd2ed4f161e9b6091a37adf312bbe63.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图22 设置HTML组件的显示数据集

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/a8447503ac8cebd4f7903ed6f325c893.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图23 企业信息集成组件展示更多企业信息

初始化企业信息触发动作流，输入对接启信宝得密匙，系统自动生成启信宝接口调用动作流：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/bbe932a9c5b47ae7f8151842919be5da.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图24 企业信息集成组件初始化

**3.6**供应商卡片添加关联页签绑定企业详情页面**

应用后台管理供应商注册表单添加关联，关联页签绑定动作是打开上一步骤设计的自定义页面：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/1136607caf793dd4fb8bedf99384936d.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图25 供应商注册表单添加关联页面

供应商注册信息台账打开供应商详情卡片的字段链接设置上添加参数配置，corpname等于当前正要查看的供应商名称：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/3b5cc7baeb732cdcaad53eed23cbb38e.jpg)

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

图26 打开表单显示布局的字段链接设置添加路径参数

通过上述配置就能实现在供应商注册表单的详情卡片上增加关联页签企业详情，打开这个显示布局时传递路径参数corpname作为企业详情页面信息展示的过滤条件和请求参数：

![](https://site-admin.eteams.cn/js/ueditor/themes/default/images/spacer.gif)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/63cd3dad04539209b6a2c720e66850f0.jpg)

