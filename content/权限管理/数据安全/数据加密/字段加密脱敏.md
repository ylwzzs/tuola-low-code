---
aliases: ["1965716479061158404"]
title: 字段加密/脱敏
created: 2025-07-15
modified: 2025-07-15
tags: ['基础模块']
theme: 权限管理
---

[[#基础设置|基础设置]]

[[#详细设置|详细设置]]

一、基础设置

字段加密/脱敏菜单可设置是否启用数据库字段加密，支持选择加解密的方式，此处的加密方式也支持集成第三方加密机。

需要注意的是，一旦启用数据库字段加密后就无法取消，同时加密的字段不支持查询。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/39d44832bc7d1099008009abbe057c59.jpg)

1、加密解密方式说明：

请妥善保存加密密钥，避免因密钥丢失导致数据无法解密。建议使用U盘、光盘等其他介质做好备份，防止丢失。

AES：AES加密算法是密码学中的高级加密标准，该加密算法采用对称分组密码体制，算法应易于各种硬件和软件实现，已经被多方分析且广为全世界所使用，安全级别较高，推荐使用该方式。

SM4：SM4算法是一种分组密码算法。其分组长度为128bit，密钥长度也为128bit。加密算法与密钥扩展算法均采用32轮非线性迭代结构，以字（32位）为单位进行加密运算，每一次迭代运算均为一轮变换函数F。

（1）若用户首次启用【数据库字段加密】时，系统会根据已选的【加密解密方式】自动生成加密密钥（仅AES、SM4支持，自定义加密机或集成的第三方加密机不支持更换密钥功能）。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/a1b40e2b62c829a28539c2a784d0b37e.jpg)

（2）若用户原先已启用【数据库字段加密】，则支持更换密钥功能。更换密钥时，支持两种方式：手动更换、自动更换。

①手动更换：点击右侧按钮后，系统会随机生成一个密钥并更换当前密钥，更换成功后，后续数据库字段将根据新密钥进行加密解密，历史数据仍根据旧密钥处理。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/86a6367b94ea70f49f4e0a85353aeff8.jpg)

②自动更换：启用【自动更换密钥】开关后，系统会根据设置的天数自动更换密钥。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/7a6c0b7d3a3a3a5fc832bb0f7ee6e2c8.jpg)

2、隐私保护设置：当启用隐私保护设置时，数据库字段加密会同步启用。隐私保护设置用于对隐私字段的保护设置，启用后，系统会给人员、业务数据增加国家属性，所属国家相同时，才允许查看隐私字段，否则会脱敏显示。

（1）首次启用此开关时，系统支持批量设置人员的所属国家。若此处未设置，则也支持在人员卡片维护，支持批量维护。批量维护路径：【组织架构权限】-【批量维护】-【批量调整个人信息】。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/413ad6931322d3e7a8bc7720aefbe47b.jpg)

（2）若所属国家为空，则默认可查看所属国家为空的隐私字段数据。

2、数据保留期限：启用后，根据加密字段数据的创建时间计算，超出保留期限后系统进行脱敏处理或删除。保留期限仅支持整数。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/1240466219f1a21c19dff13d9b061c8d.jpg)

二、详细设置

详细设置菜单中可针对各模块设置不同字段的加解密设置、脱敏设置、二次身份验证等功能。

如下图所示，左侧树可以选择对应的模块，点击后右侧会展示支持加密/脱敏设置的字段。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/8a09bf88c0cd476acc6a9f9df9d27095.jpg)

1、【数据库字段加密】勾选后，系统会按照基础设置中的设置中选择的加密方式对字段进行加密处理；

2、【脱敏显示】勾选后，默认该字段前台显示为\*\*\*\*\*，用户需要点击后才可查看真实值。也支持在【可查看范围】列可设置部分人员字段脱敏的显示样式，如部分人员允许直接查看真实值或不允许查看真实值。

（1）点击后，可在列表中查看特殊人员的脱敏设置。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/8fc44cc0b602df1542069c4822d3e10e.jpg)

（2）点击列表右上角加号，可对特殊人员进行可查看范围设置，支持按照人员、部门、分部、角色、群组、岗位、所有人添加。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/5bf02419ca0b89126d0e29ccea32241e.jpg)

（3）点击行项目“编辑”操作，也可对已添加的数据进行编辑操作。只能修改显示类型，对象类型及对象不能修改。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/ab32925e148c2af1877034b1a2db14b0.jpg)

显示类型共三类：

a、脱敏显示（允许查看真实值），即前台默认显示\*\*\*\*\*，可点击旁边小眼睛查看真实值。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/a3ab4ef1aa4be3a4f581a0a04c03726e.jpg)

b、脱敏显示（不允许查看真实值），即前台只显示\*\*\*\*\*，不可点击查看真实值。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/db10212a563a8428ff8fcf2a7cdb0522.jpg)

c、直接显示，即前台默认直接显示真实值，不显示\*\*\*\*\*。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/664ae247ee9885bd109fca182396c700.jpg)

3、【二次身份验证】勾选后，用户身份校验成功后才能查看真实值，此处二次身份的校验方式为默认校验方式，可在【账户安全-安全设置】中设置。

4、隐私字段：勾选后，系统中的资源（人员数据、业务数据等）会根据访问人员的所属国家判断是否具有权限查看，具体逻辑如下：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/2393237dccbe591bcd784f4f00db6698.jpg)

（1）若查看人员相关数据，需要判断访问人员与被查看人员之间的所属国家是否相同，若相同，则允许查看，否则不允许查看，数据脱敏显示；

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/fbabfd8d2cd05d0fae3c9d9e2e562df6.jpg)

（2）若查看业务相关数据，需要判断访问人员与业务数据之间的所属国家是否相同，若相同，则允许查看，否则不允许查看，数据脱敏显示；

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/a4371e1a7ed38a8f76f6d9cc75f10e23.jpg)

注意：所属国家为空的数据默认均可以被查看，但其本身只能查看所属国家为空的数据，无法查看所属国家有值的数据。

（3）若希望设置一些特殊人员，不受此规则限制，则可以在可查看范围中添加特殊人员，此列表中的人员将不受所属国家限制，默认可以查看所有数据。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/7bd9b0dda197e773a6ff6a74b4d2f454.jpg)

（4）邮件模块使用场景：开启隐私保护设置后，写信页面增加【所属国家】字段，默认为当前人所属国家，用户可自行编辑修改，若为空则表示不限制。

当选择【所属国家】后，收件人栏只有符合国家条件的人员（与所属国家相同）可被选择到；若更改所属国家后，收件人会同步过滤筛选。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/fd7da3fb4b8fc1075d318be313164d77.jpg)

查看邮件详情增加所属国家字段；如果发信时未选择所属国家，则不显示此字段。回复转发等其他操作打开的新邮件，也会带出原邮件的所属国家，可清空或者修改所属国家字段。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/8387add7684819bb1936889ae5370da0.jpg)

所有的邮件列表只可查看邮件所属国家为空，以及邮件所属国家和当前人国家一致的数据。

（5）流程表单中使用场景：开启隐私保护设置后，表单设计器中增加【所属国家】组件，一个表单只允许添加一个【所属国家】字段。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/363a8f4daed0eaf97e672949c80f04b7.jpg)

当设置【留言内容】字段为隐私字段后，则会走隐私保护设置逻辑：只有查看人员的所属国家与表单所属国家相同时，该字段才允许查看，否则会脱敏显示。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/25c146183127848ac7ea7839208ac3e7.jpg)

查看人员的所属国家与表单所属国家相同时，该字段允许被查看。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/f6903be2fcf8ccb89610d3de2e942e6b.jpg)

查看人员的所属国家与表单所属国家不同时，该字段脱敏显示。

