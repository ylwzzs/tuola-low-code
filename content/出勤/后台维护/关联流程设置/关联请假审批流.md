---
aliases: ["1585486434715809440"]
title: 关联请假审批流
created: 2025-07-14
modified: 2025-07-14
tags: ['基础模块']
theme: 出勤
---

## •[[#关联请假审批流配置|关联请假审批流配置]]

## ◦[[#关联审批流和字段|关联审批流和字段]]

## ◦[[#审批流注意事项|审批流注意事项]]

## ◦[[#设置审批规则|设置审批规则]]

## •[[#关联后出勤情况说明|关联后出勤情况说明]]

## ◦[[#出勤情况|出勤情况]]

## ◦[[#出勤报表|出勤报表]]

## ◦[[#工作时长|工作时长]]

## •[[#哺乳假|场景示例-哺乳假]]

在关联审批设置中配置关联请假审批表后，团队成员在审批模块中提交请假审批后，相关考勤数据将自动显示在出勤模块中（包括出勤报表、请假记录和假期剩余时长等）。

![](cf63d0dc70c38e8e6b97c860f64512ed.jpg)

**关联请假审批流配置**

## ◦关联审批流和字段

点击【添加关联审批流】按钮，选择审批表为“请假审批表”，选择审批表中“添加申请人”“请假类型”、”请假开始时间“及”请假结束时间“对应的字段。其中“添加申请人”字段可选提交人或关联人员控件。如下图所示：

![](0c1b8c7dc530f3031682beb2647bd102.jpg)

关联字段中同时支持关联“时长”、“今年已休时长”，“时区”，“假期余额”等字段，将请假请假时长、假期余额等信息也关联显示在表单上。

注意：（1）“今年已休时长”字段为当前人员已选假期的今年已休时长，与假期统计报表中的该假期“已休”保持一致；

（2）“时区”字段需配合日期/日期区间类型使用，只支持年月日时分格式；请根据客户端所在时区选择，流程归档后将根据表单上选择的时间归档计算。若不关联，则默认以考勤规则中绑定的时区进行计算。

## ◦审批表注意事项

（1）请假审批表中的“请假类型”必须使用“关联浏览”控件，浏览类型选择为请假类型，否则系统不会统计请假流程的数据。如下图：

![](d2942d55ab753d0a822e295237aa6be7.jpg)

（2）请假开始时间和请假结束时间必须使用日期控件或者日期区间控件，并且日期的格式必须为“年-月-日”或“年-月-日 时：分”或“年-月-日 时”；日期控件的格式必须一致，且不能对应同一个控件。如下图所示：

![](83a6cc455d27468668f2c7f82e9d90ea.jpg)

（3）关联的审批表不支持使用明细子表，即明细子表中的数据源控件不能被“请假类型”关联到。

## ◦设置审批规则

请选择审批流到达哪个节点后，出勤模块校验关联审批数据，如果未选择节点，则提交后即校验关联。

![](409043bb388298d73d49a02ce537cea7.jpg)

![](4a073109b879040a08520c73a997fc01.jpg)

## ◦设置校验规则

人员发起流程时如果存在提交的日期时间和在途的流程或者历史流程时间交叉（归档的和未归档的），可以进行校验控制，不允许发起重复日期时间的流程。

校验支持同流程校验、流程间校验。若ESB已有“同流程校验”规则，则ESB的“同流程校验”规则优先级最高。

1、同流程校验：校验仅跟本路径流程进行重复校验，校验本流程所有审批中和归档的流程日期时间是否重复。

2、流程间校验：可选择需校验的工作流，校验请假流程与其他流程的时间是否有冲突。

![](bf7f31470ef8532002f237889ca03e6d.jpg)

**关联后出勤情况说明**

## ◦出勤情况

设置关联请假审批表后，员工提交请假通过，在出勤情况页面显示关联该审批，如果请假时间包含考勤时间，不会显示未签到/未签退，如下图：

![](bb37d765fc900c8fbeb60fc450725ab8.jpg)

## ◦出勤报表

被关联的审批通过后，在出勤报表（出勤统计、出勤汇总和每日统计）可查看相关审批关联，如下图：

![](7142bef6ea46f7780613df471983b81f.jpg)

点击请假次数下方的数字查看明细，如下图：

![](fe3e544140da498866da18dd03b26c1a.jpg)

## ◦工作时长

工作时长报表会显示工作时长为0，其中，2.11-12日请假，如下图：

![](dc58317a6dcf6ccc3b833169017206c8.jpg)

**场景示例-哺乳假**

1、假期类型中启用【允许重复时段请假】，对于每天同一时间段内的请假，就无需重复提交多次；

![](fd8116f86e3899e5d30c41a847a3d9d9.jpg)

2、关联请假流程中，可以关联【重复请假方式】（下拉单选框（0-晚到，1-早走，2-晚到+早走）其中：0,1,2为下拉选项的value值）、【每天晚到时长】【每天早走时长】（单行文本、数字类型）；

![](e45213e1edb91356a1c50c841e2ccbd2.jpg)

（1）如果关联了【重复请假方式】【每天晚到/早走时长】，且假期类型中启用了【允许重复时段请假】，那么会结合【重复请假方式】的选项，根据班次时段计算每天晚到/早走的时长；

例如：班次为9-18点，员工请假时可灵活填写每天晚到1小时、或每天早走1小时、或每天晚到30分钟，早走30分钟。

![](0c8ae8ecf17af5957649f5ef27948252.jpg)

（2）如果未关联【重复请假方式】【每天晚到/早走时长】字段，假期类型中同时启用【允许重复时段请假】，则根据开始时间、结束时间计算每天请假时长；

例如：班次为9-18点，员工请假时可选择每天9-10点请假。

![](ba960ba255398d92c7da36e3dbcd9f64.jpg)

（3）考勤报表抵扣逻辑：1天1个班次：每天晚到60分钟，可以抵扣60分钟内的迟到；每天早走60分钟，可以抵扣60分钟内的早退；1天2个、1天3个班次：每天晚到60分钟，可以抵扣第一次上班卡60分钟内的迟到；每天早走60分钟，可以抵扣最后一次下班卡60分钟内的早退。

![](b5f5b4a7f523c0ececbb856dbe56b616.jpg)