---
aliases: ["1963695869966058890"]
title: 接收应用系统待办数据到本平台
created: 2025-07-15
modified: 2025-07-15
tags: ['集成引擎']
theme: 集成引擎
---

目前有很多第三方系统都有流程，操作人都会有待办事宜、已办事宜。但这些待办流程都分散在不同系统中，用户操作不方便，对相应流程也无法及时处理。客户希望能在泛微OA中对所有的第三方流程做统一展示，点击流程标题后，根据不同的流程，展示不同流程的审批页面。﻿

## •[[#统一待办中心集成配置-管理员设置|统一待办中心集成配置-管理员设置]]

[[#功能设置|功能设置]]

[[#应用系统|应用系统]]

[[#数据对比|数据对比]]

[[#集成日志|集成日志]]

## •[[#支持一人多岗场景|支持一人多岗场景]]

## •[[#支持多语言场景|支持多语言场景]]

**统一待办中心集成配置-管理员设置**

功能入口：后台管理中心-集成中心-统一待办中心集成（付费功能）

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/3bc14370fd4303f1342da3bdaf5bcc65.jpg)

**功能设置**

在功能设置中启用后才可在流程列表中查看应用系统数据

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/3a0a65eaf0adc2390936668e0c4c7527.jpg)

1）启用：这里是此功能的总开关，只有启用后，才能在流程列表中看到所有设置好的应用系统的数据。开启：表示应用系统集成功能可用，应用系统接口可接收数据；关闭：表示应用系统集成功能不可用，应用系统接口不可接收数据。

2）显示系统名称：用于控制流程标题前是否显示应用系统名称。

- 不显示：不显示应用系统名称；
- 简称：显示应用系统简称；
- 全称：显示应用系统全称。

3）显示已办：开启：将处理状态为【已办】和【办结】的异构系统流程显示到【流程-已办事宜】、【流程元素】中；关闭：【流程-已办事宜】、【流程元素】中不显示处理状态为【已办】和【办结】的异构系统流程。

4）当前系统简称：用于设置OA系统简称，依据“显示系统名称”项，在流程列表 显示OA系统产生的流程的系统名称。

5）当前系统全称：用于设置OA系统全称，依据“显示系统名称”项，在流程列表 显示OA系统产生的流程的系统名称。

6）保留日志天数：每天00:00:00会执行清理日志数据，此处可以设置保留日志的时间范围（30~365天）。

7）集成日志数据源（10.0.2412.01支持）

- 默认值：基于微搜

  通过微搜来查看集成日志，查询效率较高，适用于集成日志数据量大的应用场景

- 可选择：基于数据源

  原有功能，当集成日志数据量太大时，可能出现查询超时的情况

8）刷新缓存：点击刷新按钮，清理当前租户关于应用系统注册信息、审批流类型信息的缓存并从数据库中重新获取数据。

9）自定义字段：设置自定义字段，是为了满足第三方系统推送流程到OA时，统一待办接口当前字段不够用的情况，自定义添加字段来满足需求。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/efccfb916e4b39a547dc261448e4afe0.jpg)

10）消息队列设置：**仅私有化环境下支持**

a. 启用：默认关闭

b. 队列异常提醒：开启启用后联动显示，默认关闭

c. 提醒方式：开启队列异常提醒后显示，默认均未勾选。提供四个选项

d. 提醒对象：开启队列异常提醒后显示，默认均空，可以选择多人或者多角色进行异常提醒

11）流程类类型置顶：（10.0.2405.01支持）

a. 启用：默认关闭，开启后允许将应用系统的流程类型置顶

b. 适用范围：

- 查询接口：/api/open\_intunifytodo/server\_config/pageList
- e-builder搭建页面时，数据源使用“统一待办中心异构系统流程表”的组件，开启流程类型置顶后，流程类型下数据以第一顺序显示

**应用系统**

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/38415a367ac09c51a8f21a6f939be6bb.jpg)

1、新建应用系统

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/a4e8b00fdc5c8ffe246c2263595c71bf.jpg)

1）基本信息：

a. 标识：该字段值有唯一性校验，标识是提供给第3方系统使用

b. 简称：该字段值有唯一性校验

c. 全称：该字段值有唯一性校验

d. 所属机构：该功能支持分权，可设置数据对应的维护机构

e. 显示顺序：设置异构系统在应用时的显示顺序（-999~999）

2）应用系统设置：

a. 内外网自动登录：默认关闭，开启后联动出网断策略设置项，点击“网段策略设置”按钮可以查看选择网段策略（该页面网段显示项源于系统管理-账户安全-IP黑白名单设置）

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/673b9196e3a2332ff20e9b897c1ae746.jpg)

b. PC地址内部前缀：输入PC端访问链接的内部地址前缀,防止客户第3方系统因域名切换或IP切换导致无法访问问题，必填

c. PC地址外部前缀：输入PC端访问链接的外部地址前缀,防止客户第3方系统因域名切换或IP切换导致无法访问问题

d. APP地址前缀：输入手机端访问链接的地址前缀,防止客户第3方系统因域名切换或IP切换导致无法访问问题

e. 使用绝对路径跳转：默认为 关闭。开关开启后，送给下游（消息中心和流程组）的url数据提供的是http开头的第三方绝对路径，下游系统点击跳转将不再经过OA进行跳转；【内外网自动登录】、【PC地址外部前缀】、【认证方式】相关的配置对新推送的流程无效

f. 人员转换规则：选项（OA人员ID、OA登录账号、工号、身份证号码、电子邮箱、手机号）

**注意：集成中心->统一待办中心集成->应用系统，新建和编辑异构系统时，PC和APP地址可输入任意地址，存在任意URL跳转风险。（低危）**

3）中转登录类：

a. 默认值：无需处理

表示认证方式由第三方提供（即调用OA统一审批接口时传的pcurl/appurl带有相关认证信息，无需OA做相关认证处理）

b. 登录到E9

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/f35eafa0d7bf14ee8808777e933ab998.jpg)

AES\_PWD（密钥）：此值取自e9的配置文件transferE9.properties中

AES\_IV（盐值）：此值取自e9的配置文件transferE9.properties中

c. 登录到E10

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/549331f2a2d428d8483dea05a20a7a8b.jpg)

open\_api\_prefix：推送端开放平台地址前缀(访问地址/papi/open)

open\_api\_token\_url：推送端开放平台token地址(openapi地址 /oauth2/get\_logintoken)

app\_key：推送端开放平台应用管理中新建通用型应用来获得参数值。

app\_secret：推送端开放平台应用管理中新建通用型应用来获得参数值

d. 登录到租户(eteams)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/ab3843cc41f0c199f39b11d5fb1287b3.jpg)

tenantKey：租户（推送端租户信息）

e. 令牌免登录到E10

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/56b98ae5522699dfc228c14c4a03e4a5.jpg)

app\_key：密钥

f. 登录到北森

只有选择【工号】或【电子邮箱】时，认证方式中才会出现【登录到北森】配置项

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/dc2baabd4ca990fbfeb290275a37a963.jpg)

若当前配置已选择【登录到北森】，此时修改人员转换规则为【手机号】等其他配置项（非工号或电子邮箱）时，会弹出弹窗提示：“当前选择的认证方式【登录到北森】暂不支持【手机号】做为人员转换规则，确认修改后会清空当前中转登录类设置中的内容”；点击确定后，【认证方式】切换为【无需处理】

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/7ecfa75d991b216d43b2912a44ae122a.jpg)

public\_key：北森提供的公钥

private\_key：北森提供的私钥

appid：北森的应用id，根据要跳转不同应用修改

iss：接入网站域名【无协议头】，例如： oa.xxxx.com 或者 ip:端口

aud：北森的租户Id 租户 ID，由北森发放，如：107934

g. 支持集成登录类型：千里聆、用友NC Cloud、e-cology8/9(token认证)、E10(token认证)**（10.0.2312.02之后版本更新）**

4）工作流设置：

a. 接收工作流数据：默认为 关闭。开启：表示接口接收该系统流程数据。关闭：表示接口不接收该系统流程数据。

b. 编辑工作流类型：默认为 关闭。开启：表示在审批工作流类型列表页面中，显示【新建】按钮，并且可对流程类型做【编辑】操作。关闭：表示在流程类型列表页面中，不显示【新建】按钮，并且不可对流程类型做【编辑】操作。

c. 显示到PC端：默认关闭，开启则会在前端工作流页面中显示相关异构系统工作流数据，若关闭则不会显示。

d. 显示到移动端：默认关闭，开启则会在工作流页面中显示相关异构系统工作流数据，若关闭则不会显示。

e. 支持批量提交：默认为关闭。在动作流中配置第三方批量接口后，启用开关可支持流程待办列表中的批量提交与批量删除操作。具体配置方法可查看[[配置ESB动作流实现批量操作|《配置ESB动作流实现批量操作》]]，保存配置后，可在流程模块批量删除与提交第三方流程数据

f. 批量操作失败提醒（10.0.2405.01支持）：默认为隐藏，开始支持批量操作开关后显示，显示后默认为关闭，开启后可以对批量操作失败的流程操作人进行指定提醒方式（可支持提醒到IM、云桥、邮箱、短信）的消息提醒。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/3241e9b2b3c8766c3b1a54676a164a08.jpg)

g. 禁止推送已办流程到消息中心：默认为 关闭。开启：已办流程不再推送给消息中心

5）数据对比设置（10.0.2404.02支持）

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/2079b22ecc307e68684364a21b7ded6a.jpg)

a. 启用：默认关闭，启用后，该应用系统可以进行数据对比

b. 查询接口地址：默认隐藏，启用开启后显示

6）提醒设置：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/0f0a3f7349ee108b6777cb1d06910508.jpg)

a. 提醒到系统消息：默认关闭

b. 提醒到云桥：默认关闭

c. 提醒到邮箱：默认关闭，注册应用系统时开启后无法设置邮箱提醒模板（需要在应用系统注册完成进行编辑时方可设置邮箱提醒模板，开启后将会对待办未读状态的工作流数据根据模板样式进行提醒到邮箱）

d. 提醒到短信：默认关闭，注册应用系统时开启无法设置短信提醒模板（需要在应用系统注册完成进行编辑时方可设置短信提醒模板，开启后将会对待办未读状态的工作流数据根据模板样式进行提醒到短信）

7）消息队列设置：**仅私有化环境下支持**

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/3efa990f2a49317ea263c69daa1957b3.jpg)

a. 启用：默认关闭

b. 队列异常提醒：开启启用后联动显示，默认关闭

c. 提醒方式：开启队列异常提醒后显示，默认均未勾选。提供四个选项

d. 提醒对象：开启队列异常提醒后显示，默认均空，可以选择多人或者多角色进行异常提醒

2、编辑应用系统

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/efbdb1fad6d26258da3e59c929352ee6.jpg)

1）工作流类型：主要是当前应用系统的全部工作流类型的页面展示

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/dea6238c0e4456b7b500ccc774cef01f.jpg)

a. 显示列“是否置顶”（10.0.2405.01支持）：功能设置开启流程类型置顶后显示，默认为否

b. 置顶功能（10.0.2405.01支持）：功能设置开启流程类型置顶后显示，允许将流程类型置顶，设置后，“是否置顶”显示为“是”

支持编辑工作流类型：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/3abaae5730f0139eb089b5e15f228c10.jpg)

a. 应用系统：显示所属应用系统的标识

b. 工作流类型：工作流类型名称（workflowname字段）

c. 接收工作流：开启则接口允许在该应用系统工作流类型下接收工作流数据；关闭则表示接口不允许在该应用系统工作流类型下接收工作流数据。

d. PC新建工作流地址：只有设置新建工作流类型的地址后，才允许在OA中新建对应的应用系统工作流，创建人范围方可生效。

e. APP新建工作流地址：只有设置新建工作流类型的地址后，才允许在OA中新建对应的异构系统工作流，创建人范围方可生效。

f. 创建人范围设置：只有在这个范围中的人员才可进行新建应用系统工作流的操作权限

2）工作流数据：主要是当前应用系统的全部工作流数据的页面展示

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/309c1a44f69b20bf715c4b0850819cd3.jpg)

a. 新建工作流数据：主要用来可以通过页面进行接口调用。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/8c46fd7d410afafb15c281eda3cd7a97.jpg)

应用系统：显示当前应用系统标识；不可编辑。

工作流类型：工作流类型单选浏览框，选择范围在当前应用系统内。

工作流ID：工作流实例id（flowID字段）。

标题：流程标题。

处理状态：可选：待办、待阅、已办、办结。

查看状态：可选：未读、已读。

步骤名称：流程节点名称。

PC地址：应用系统PC地址。

APP地址：应用系统APP地址。

创建人：对应OA人员姓名。

创建日期时间：日期按钮。

接收人：对应OA人员姓名。

接收日期时间：日期按钮。

b. 编辑工作流数据：主要用来对通过接口调用获得的工作流数据进行编辑。

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/663cfd64f6e3b0f4b22ba850b316bd03.jpg)

应用系统：显示当前应用系统标识；不可编辑。

工作流类型：显示当前工作流数据所属工作流类型名称；可以通过工作流类型单选浏览框进行修改工作流类型，选择范围在当前应用系统内。

OA工作流类型主键：不可编辑。

工作流ID：工作流实例id（flowID字段）；不可编辑。

OA工作流主键：不可编辑。

标题：流程标题。

处理状态：可选：待办、待阅、已办、办结。

查看状态：可选：未读、已读。

步骤名称：流程节点名称。

PC地址：应用系统PC地址。

APP地址：应用系统APP地址。

创建人：对应OA人员姓名。

创建人原值：不可编辑，通过“创建人”带出原值（依据应用系统中“人员转换规则”转换）。

创建日期时间：日期按钮。

接收人：对应OA人员姓名。

接收人原值：不可编辑，通过“接收人”带出原值（依据应用系统中“人员转换规则”转换）。

接收日期时间：日期按钮。

数据对比

主要用来和开启了数据对比功能的应用系统进行流程数据状态对比，出现差异可以及时反馈给管理员进行问题解决。

1. 数据对比任务

a) 定时比对

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/9fffc5b1aad680545b7ee12d3166f939.jpg)

启用：默认关闭，开启后可以定制对比数据

异构系统：必填，选择开启了数据对比设置的应用系统

对比对象：设置指定人员进行数据对比，默认为全员对比

数据范围：默认1，表示对比一天内的数据，可以设置1~365

执行频率：默认每2小时执行一次，可以根据实际情况设置

异常提醒：默认关闭，开启后可以针对异常数据进行提醒，

提醒对象：默认不显示，开启异常提醒后展示，必填，浏览按钮形式，可以选择人员或角

消息事件：默认不显示，开启异常提醒后展示，必填，下拉框形式，可以选择消息模块是统一待办中心下的推送类型

b) 手动比对

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/2377b80f74839062d094f5c84df06327.jpg)

异构系统：必填，选择开启了数据对比设置的应用系统

对比对象：设置指定人员进行数据对比，默认为全员对比

数据范围：必填，根据设置的日期范围

提醒对象：默认不显示，开启异常提醒后展示，必填，浏览按钮形式，可以选择人员或角

消息事件：默认不显示，开启异常提醒后展示，必填，下拉框形式，可以选择消息模块是统一待办中心下的推送类型

**注：定时任务执行中，禁止手动比对**

2. 对比结果

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/46a6894a9d91f320f09a4c826ea4c5b5.jpg)

记录定时比对、手动比对，批次号、异常数据、比对开始时间/结束时间/耗时，可删除、导出对比记录

**集成日志**

主要用来展示所有应用系统接口调用的相关日志

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/a003d5babcc9fc6eff099246ff19d95d.jpg)

**支持一人多岗场景**

注意：人员转换规则只能选择：人员id、工号、手机号、邮箱

接口参数示例：

|  |
| --- |
| {  "syscode":"test",  "flowid":"01112",  "requestname":"测试接口一人多岗05",  "workflowcode":"0112",  "workflowname":[{"langType":"zh\_CN","langValue":"中文类型"}, {"langType":"zh\_TW","langValue":"繁体类型"}, {"langType":"en\_US","langValue":"英文类型"}],  "nodename":[{"langType":"zh\_CN","langValue":"中文节点"}, {"langType":"zh\_TW","langValue":"繁体节点"}, {"langType":"en\_US","langValue":"英文节点"}],  "pcurl":"/testPCurl/111",  "appurl":"/testAppurl/222",  "creator":"18121431944",  "createdatetime":"2022-07-17 10:55:43",  "receiver":"17821433121",  "receivedatetime":"2022-07-17 10:55:43",  "isremark":"0",  "viewtype":"1",  "receivets":"1",  "language":"en\_US",  "partTimeJob":{  "employeeId":"",  "positionCode":"0004",  "departmentCode":" ",  "superiorCode":"",  "currentExtraId":""  }  } |

**支持多语言场景**

在推送端和接收端都支持多语言的情况下，统一审批接口增加多语言相关参数，保证显示的流程类型名称和节点名称也是多语言的数据格式。

接口调用参数示例：

|  |
| --- |
