---
aliases: ["1975038784582898733"]
title: 新增支持通过人力资源条件变更文档权限
created: 2025-07-14
modified: 2025-07-14
tags: ['基础模块']
theme: 知识文档
---

## 1. **背景**

e9【人力资源条件】字段，支持在前台用户使用时配置是否可下载的权限，e10只能在后台配置，需要同e9一样的支持用户设置的功能。

## 2. **功能描述**

文档赋权对象字段这一期仅用于存储文档权限，通过动作流进行赋权。

# 3. **功能说明**

## 3.1. **表单引擎新增文档赋权对象字段**

1、 表单组件/组织类型分类下新增【文档赋权对象】组件，在表单设计器里就展示为一个“设置”图标

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/520c26a74b88f32f1ba5de8029e445b0.jpg)

2、支持配置可选对象类型，默认选择全部，至少选择两个对象

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/6c820ca7508f678eee163fb7d9de65f6.jpg)

根据此配置，可以控制运行时新增权限时可选择的对象类型

3、 支持配置条件可选项：可以选择 “全部”或者“指定选项”，选择指定选项时，有查看、编辑、完全控制，该字段为必填，指定选项时，至少要选择一个选项，默认为查看

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/e400f27c3028c97b8c20d8e0e73288db.jpg)

根据此配置，可以控制新增权限的时候可以增加的权限

4、 PC端新增权限及填写回显效果

表单详情展示名字以及权限，最多展示10条，超过10条会展示为查看更多

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/7f5a922ffc3c79bd4ef1b2a57cf02d6e.jpg)

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/c358c723056feb36690765de1180ffb2.jpg)

5、 移动端新增权限及填写回显效果

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/6f741ac8869ceb452540b9cc4b48a3b5.jpg)

## 3.2. **工作流程**

1、 流程流转时给文档附件字段增加共享权限支持选择“文档赋权对象”类型字段，支持 主表、明细表；功能入口：工作流功能设置->文档/附件权限设置->共享对象范围：

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/b1284773753eeb4b93506090601bc105.jpg)

2、流转赋权：流程表单上“文档赋权对象”字段选择不同类型的组织对象，流程流转时给文档/附件共享中增加相同的共享信息；

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/eb57a5246fae78237aa67b4e5e7f5806.jpg)

3、“流程关联文档赋权”动作流，“人力资源条件”字段支持映射到“文档赋权对象”类型字段，流程表单上“文档赋权对象”字段选择不同类型的组织对象，流程流转触发动作流后给文档/附件共享中增加相同的共享信息；共享信息中的是否允许下载文档不读取动作流中的“允许下载文档”开关，始终保持和“文档赋权对象”字段中的权限一致；

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/5aa60905c4ed81cff133ec8ce6023d60.jpg)

## 3.3. **知识文档**

1、表单组件/组织类型分类下新增【文档赋权对象】组件，文档属性布局中可添加该类型字段

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/73a42f972c9c0935ca17403e47be0129.jpg)

2、当流程表单中也有【文档赋权对象】字段时，文档审批高级设置可设置字段对应关系

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/caf11f5dae9a0c6c685844a17e773343.jpg)

说明：

文档属性页设置对应值后，提交文档触发审批流，该字段值支持带入表单

![](https://myhelpdoc.oss-cn-heyuan.aliyuncs.com/mdimages/6044b333798ff914761100bdca208da4.jpg)

3、文档权限变更动作流支持文档赋权对象字段赋权收权

