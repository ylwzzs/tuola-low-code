---
aliases: ["1970848108553909397"]
title: 华为云存储配置
created: 2025-07-14
modified: 2025-07-14
tags: ['基础模块']
theme: 知识文档
---

# **华为云对象存储**

## 1. **nacos配置（eteams-storage-service.properties）**

l 若配置已存在，则进行修改，若配置不存在，则需要进行新增

# 存储策略

storage.server=huaweiyun

#阿里云

# 必填：对象存储账号

huaweiyun.access\_key\_id=

# 必填：对象存储密码

huaweiyun.secret\_access\_key=

# 必填：公有桶

huaweiyun.bucket=

# 必填：阿里云存储地址

huaweiyun.endpoint=

# 必填: 静态文件私有桶

huaweiyun.static.i18n=

eg.

huaweiyun.access\_key\_id=zS8lxxxxxxxxxxxxxxxxxxxxxxxxnyPtWZCcY=

huaweiyun.secret\_access\_key=0PWkXKrxxxxxxxxxxxxxxxxxxxxxxxxxU0WRbcWLN4PSa

huaweiyun.bucket=e10test-2022119

huaweiyun.endpoint=obs.cn-east-3.myhuaweicloud.com

huaweiyun.static.i18n=i18n-1301503941

## 2. **静态资源nginx配置**

l 若配置已存在，则进行修改，若配置不存在，则需要进行新增

l ${weaver.env}可以从配置文件 weaver.properties 中查询

l 修改好配置文件后，需要重启nginx

l ${huaweiyun.endpoint} ${huaweiyun.static.i18n}可以从配置文件eteams-storage-service.properties中查询

2.1. **国际化模块静态文件访问**

location /static/public/resource/i18n {

proxy\_pass ${huaweiyun.endpoint}/${huaweiyun.static.i18n}/static/public/resource/i18n/${weaver.env};

}

2.2. **云商店模块文件访问**

location /ecodestatic {

proxy\_pass ${huaweiyun.endpoint}/${huaweiyun.static.i18n}/ecodestatic;

}

2.3. **通用静态文件访问**

location /visitstatic {

#云端：

proxy\_pass ${huaweiyun.endpoint}/${huaweiyun.static.i18n}/visitstatic/${weaver.env};

}

# 必须在网关的 location 之前

location /api/file/visitstatic/ {

proxy\_pass ${huaweiyun.endpoint}/${huaweiyun.static.i18n}/visitstatic/${weaver.env};

}