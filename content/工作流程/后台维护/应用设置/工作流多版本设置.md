---
aliases: ["1973501043308010090"]
title: 工作流多版本设置
created: 2025-07-14
modified: 2025-07-14
tags: ['流程引擎']
theme: 工作流程
---

**需求概述：**

1、此前工作流存为新版后，显示属性联动等设置均是复制的，原因是工作流版本之间设置要隔离，但这样不便于后期维护，并且结合之前的一个需求（多版本工作流使用同一个表单，不同版本需要使用同一个布局或者字段联动），本次版本进行优化。

2、全局控制哪些设置允许跨工作流版本生效；手动存新版时，可选择哪些设置不复制，和来源版本共用。

**全局范围控制哪些设置可以多版本共用：**

1、设置入口如下图所示：![](55ceb416829320bada559568db7e269a.jpg)

2、默认为空，已选的设置才支持被同工作流不同版本使用，例如某个显示属性联动设置，生效范围可以选择同工作流不同版本的节点，不局限于本版本内的节点；

3、手动存新版时（操作入口：工作流设置-更多-存为新版），可基于此处的范围内自行选择哪些设置和来源版本共用；

4、其余存新版的入口（例如流程删除节点、切换流转模式），没有自行选择的地方，将直接读取此处的范围；

**存为新版时支持勾选哪些功能不复制：**

1、存为新版时支持勾选哪些功能不复制，效果如下图所示：

![](0056f6e139eb115c15a04c1290ff2315.jpg)

2、允许勾选的设置项范围，受控于【应用设置-基础设置-工作流多版本设置】，如果全局应用设置里范围为空，则此处也不显示此行设置；

**显示布局多版本共用说明：**

1、V1存为V2时，V2的布局管理和V1的布局管理为同一份数据，但从V2版本查看布局管理时，当前版本引用节点列只展示V2节点；V1版本查看布局管理时，引用节点只展示V1节点，行操作查看引用显示所有版本对此布局的引用情况；![](d4da8eb8e61a400d3bc3102ad8658464.jpg)

2、布局设计器中顶部有查看引用入口，点击可查看所有引用布局的布局及工作流版本信息；![](c29d158014cb4515cce2cd8f432ebdc7.jpg)

3、意见放表单控件：

（1）存新版时选择了显示布局共用，布局中包含了意见放表单控件并且意见范围指定了节点，存新版后多版本公用同一布局，节点范围追加新版本节点；

（2）【应用设置-基础设置-工作流多版本设置】开启了显示布局允许多版本公用，意见放表单控件选择节点范围时允许选择到不同版本工作流节点；

![](b189eee8aa57dcb7bf0bc3b1e33e3d0a.jpg)

**字段联动多版本共用说明：**

1、 布局维度联动

（1）存新版时，勾选【显示属性联动/字段联动/函数公式】不复制，此次操作如果显示布局进行复制，原联动生效范围为选择独立布局时，追加新布局到原联动设置生效范围中；

（2）如此次显示布局不复制，原联动生效范围为选择独立布局时联动不变，对新版本生效；

（3）表单及默认布局维度联动始终不复制；

2、节点维度联动，勾选【显示属性联动/字段联动/函数公式】不复制，追加新版本节点到原联动设置生效范围中；

3、工作流维度联动，勾选【显示属性联动/字段联动/函数公式】不复制，追加新工作流版本到原联动设置生效范围中；

4、【应用设置-基础设置-工作流多版本设置】开启【显示属性联动/字段联动/函数公式】允许多版本公用，联动生效范围选择布局、节点、工作流均允许跨版本选择；

![](bd50fde94dfa8837a70295cc48898065.jpg)![](4e2b000173eba2874b4be0bc3d415da8.jpg)

**附加操作多版本共用说明：**

1、动作流中使用了节点操作者相关参数，存新版时是否勾【附加操作-动作流】都会复制动作流，不支持多版本公用动作流，与开关是否开启无关，如下图

![](56aea65932979cb20e87d4dfc9a87243.jpg)

2、动作流中未使用节点操作者相关参数，存新版时勾【附加操作-动作流】不会复制动作流，多版本共用动作流；动作流已公用状态下，节点操作者参数只读，相关参数不显示，如下图

![](0ced97b1e695a7be97ffefc06cbc58ef.jpg)

3、从具体工作流程版本中打开共用动作流，触发时机内默认显示当前版本，切换活动版本/历史版本可直接编辑，修改其中一个版本的动作流对所有版本同步生效，修改触发时机仅对应工作流版本生效，如下图![](ded6fda1618d2bcb0fe7155f7b3d1bca.jpg)

**其它调整说明：**

1、新建布局从已有布局复制，选择布局浏览框允许选择当前工作流下不同版本显示布局，与开关是否开启无关；

2、新建打印模板从从表单布局复制，选择布局浏览框允许选择当前工作流下不同版本显示布局，与开关是否开启无关；

3、流程存文档选择显示模板，【应用设置-基础设置-工作流多版本设置】开启了显示布局允许多版本公用 浏览框可选择当前工作流下不同版本显示布局，否则仅可选择当前版本布局。