---
aliases: ["1968378254801305341"]
title: 报表设置-单元格事件
created: 2025-07-15
modified: 2025-07-15
tags: ['e-builder']
theme: e-builder
---

**1.** **场景说明**

报表除了能够展示数据信息之外，还能够通过配置单元格链接地址实现页面的动态跳转。如下图所示，报表数据源选取的是应用表单，我们点击该报表中的某个单元格字段，即可打开该表单下对应数据的表格视图台账或者表单布局样式。

点击报表单元格打开表格视图台账：

![](4382db63fd1a9fc31db0c9002e86403e.jpg)

点击报表单元格打开表单显示布局：

![](bd4da66aaa9c496d5e322ec828db1c8e.jpg)

**2.** **功能简介**

上述场景可以通过报表的【单元格事件】功能实现，分为两种情况：

① 打开表格视图台账：此时我们需要复制表格视图的页面地址到单元格事件中，并通过报表的【查询条件】或者表格视图的【条件】进行数据的筛选，从而跳转到对应的表格视图中；

② 打开表单布局样式：首先我们复制表单视图的布局地址到单元格事件中，并在报表中增加表单的数据ID字段，通过数据ID锁定并打开对应的表单布局样式。

**3.** **操作说明**

1. 打开表格视图台账：

点击新建报表-添加数据集-选择e-Builder表单，并将字段拖拽到单元格中进行报表的基础搭建，如下图所示：

![](939df99ea182def274ddd0eb9114754a.jpg)

此时我们预览可以看到报表的展示样式，但是展示的数据没有任何的点击动作，例如在该场景下，我们希望点击存放位置，查看该位置存放了哪些设备，即通过“存放位置”字段过滤筛选并打开表格视图台账。为了实现这一效果，有以下两种方法：

方法一：设置单元格事件并结合报表查询条件

首先我们要知道，无论哪种方法，第一步都需要复制该报表选取的数据源表单的表格视图页面地址，并将其复制到“存放位置”字段所在的单元格-事件-pc链接中，如下图所示：

![](94db0045ea44e79bce7a52f021200eea.jpg)

![](1c64a97120735c608f242dbb1a224b3c.jpg)

之后我们设置报表查询条件，因为“存放位置”为文本字段，所以我们选择字段类型为文本，设置一下查询条件，点击保存，我们的目的是为了获取该查询条件的“标识”，如下图所示：

![](98ff8f1a8d37a306958623a7d8223d74.jpg)

之后我们还需要获取“存放位置”这个字段的数据key，在表单设置或者表单设计器中，都可以找到字段数据key:

![](7babf6d7d26170fa7ed5066fb686da0e.jpg)

此时套用设置，在该单元格事件刚才复制的页面地址的后面添加 ?cfwz=K4&cfwz1={searchfield001}，红色字体为该字段的数据key，绿色字体为该字段的单元格位置，蓝色字体为设置的查询条件标识，用户需要根据自己搭建的报表替换页面地址以及这个三个变量，如下图所示

![](e2b5efb35c1d059c11fec402cb8c5750.jpg)

方法二：设置单元格事件并结合表格视图条件

除了方法一中设置报表查询条件之外，我们也可以设置表格视图条件从而实现相同的效果，第一步同样需要先复制表格视图页面地址至报表单元格事件中。

之后在表单中编辑该表格视图，设置表格视图条件，条件设置如下图所示：

![](65adc8bfd157505d511e0c8b85f46527.jpg)

最后回到报表之中，在复制的页面地址链接后加上：?wz=L4，其中，红色字体是在表格视图中设置的自定义参数，蓝色字体表示该单元格位置

![](31040ff5f1d2184e50847a2663a2e4b0.jpg)

两种方法设置成功后，都能达到相同的使用效果，与此同时，两种方法也各有优劣：

① 方法一：设置较为繁琐，需要设置报表查询条件获取标识，查询字段数据key等，优点是不会影响原本的表格视图展示。

② 方法二：设置较为简单，但是表格视图设置了搜索条件之后，直接预览是不会展示数据的，所以用户使用方法二时，最好新建或复制一个表格视图单独使用，与默认表格视图区分开来。

![](6be544e101d8bc070938716a4c1bd276.jpg)

2.打开表单布局样式

打开表单布局样式的原理与打开表格视图台账相同，都是通过传参达到数据筛选穿透的目的。例如在本场景中，我们想要打开每条设备信息对应的表单显示布局：

首先我们在报表中需要将数据集中的“数据ID”拖拽到单元格中，在该单元格的事件中粘贴该表单显示布局的地址（选择数据ID的原因是因为表单布局的页面地址是根据每条数据的数据ID而动态变化的）：

![](483824e86481d2fea9476efb6bb16e28.jpg)

![](5d7f96926a4313223518aa648c46f76b.jpg)

之后将页面地址后面的 $dataid$替换成数据ID所在的单元格位置，并添加{}：

![](d78640c73e91c02b15aae25075308028.jpg)

此时就可以实现点击数据ID字段，打开该条数据的表单显示布局，同理也可打开新建、编辑布局等。

需要注意的是，此时直接将数据ID字段展示出来可能影响报表美观，我们可以在报表后面再增加一个自定义文本，命名为：点击查看，将原数据ID单元格事件中的地址复制到该自定义文本中，也能实现相同效果，同时将数据ID字段隐藏，使得报表整体更加美观，如下图所示：

![](186a0605b4d54fce797df7f664fc83de.jpg)

![](a495927682a73ff5877baf802dff89d9.jpg)

3.效果展示：

点击报表单元格打开表格视图台账：

![](93aa1bdc6b2987eda90e4802d83fc1ee.jpg)

点击报表单元格打开表单显示布局：

![](e2eff6ed5dfc4b16f6d2a4e2e5f7f4e3.jpg)