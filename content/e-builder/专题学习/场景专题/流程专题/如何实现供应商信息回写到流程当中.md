---
aliases: ["1969995111032018865"]
title: 如何实现供应商信息回写到流程当中
created: 2025-07-15
modified: 2025-07-15
tags: ['e-builder']
theme: e-builder
---

**1.** **场景说明**

在工作流程的日常审批处理中，我们经常需要将流程的信息转变成表单数据。于此同时，在流程的审批过程中，我们也需要将表单的数据回传到流程当中，帮助用户更好的进行流程审批。例如在供应商管理中，供应商需要进行录入审批，在审批的过程中，生成供应商信息表，并将该表单信息回传到流程当中，用户在流程审批的同时，也能看到表单当中的信息。

![](fde88f33e57b2aa94e7f88e26ed54bbf.jpg)

**2.** **功能简介**

上述场景结合了工作流程、eb表单以及动作流的模块功能，供应商审批分为提交申请、资质查验、领导审批、归档四个节点。用户提交申请后，流程信息录入到eb表单中，供应商状态显示“审批中”；之后进入资质查验节点，将查验结果“合格/不合格”更新到eb表单中，并获取该条表单数据的信息，通过动作流-保存流程，回传到流程当中；在领导审批节点或者归档节点，用户不仅可以查看流程信息，也能够看到回传过来的表单信息 。

**3.** **操作说明**

**1.**搭建工作流程与eb表单，设置节点布局**

如上文所说，本场景中需要用到供应商信息表（eb表单），供应商准入审批（工作流程），以及一些动作流。供应商信息表中记录供应商的一些信息，这些信息是由流程数据转入生成的。供应商准入审批中，各审批节点功能不同，因此需要搭建多个显示布局，例如发起节点无需展示资质查验字段，领导审批以及归档节点需要能够查看eb表单信息等：

![](03276d75bd1834f096dc67201bb34009.jpg)

**2.**发起节点，流程转数据**

在流程发起节点中，填写供应商信息，并点击提交，流程进入下一节点-资质查验。与此同时，触发动作流-新增表单数据，将发起节点填写的供应商信息新增到eb表单中，供应商状态显示“录入审批中”。动作流配置如下：

![](daf9e4ce2d33306565995d4dc78fe4f2.jpg)

显示效果如下，为演示方便，数据简略填写：

![](a7eca94f016bb1cb2e9496fdfe1770f1.jpg)

**3.**资质查验节点，更新表单数据，回传表单信息**

在第二步结束之后，流程来到资质查验节点，此节点需要填写查验结果“合格供应商/不合格供应商”，并将结果通过动作流-更新表单数据，更新对应的供应商信息，动作流配置如下：

![](6421d4b18fa23fdbb41e99f2690b9121.jpg)

在上图中，可以看到有三处标志，这是该动作流需要注意的位置：

① 动作流触发时机，在资质查验正向离开后

② 更新表单数据时，我们没有利用默认的“按数据ID更新”，因为此时流程与eb表单之间没有直接的关联关系。因此我们可以利用“按条件更新”，利用供应商名称相同，来查询到需要更新哪条数据信息。条件也可以添加多个，方便确认需要对应的信息。

③ 修改供应商状态，当两个下拉框需要赋值的选项，选项值相同时，可以设置选项名称-下拉框（名称）。例如在场景中，流程表单的查验结果下拉框有两个值“合格供应商、不合格供应商”，eb表单的供应商状态下拉框里也有这两个选项，则可以利用此方法赋值。若选项值不同，例如流程中的两个选项为“是，否”，则在动作流中需要利用分支进行判断：

![](ddf60fcd69c886d3b9d36b41b5499b7f.jpg)

之后该动作流还有下一步操作，将表单信息回传到流程中，在本场景中，我们在流程表单中放入了一个关联eb字段，希望到“领导审批节点、结束节点”时，可以点击该字段快速查看当前供应商的eb表单信息。我们需要利用动作流-保存流程，该动作可以帮助我们修改正在流转中的流程信息。动作流配置如下，关联流程选择该条流程的流程标识：

![](86b23415e2ca8c8fecf00c7f1078b23f.jpg)

表单数据赋值时，关联eb字段赋值该表单的数据ID，此处需要注意的是，由于在更新表单数据时，上文第②点中我们利用的是按条件更新，由于供应商名称不具有唯一性，即一个表里可能有两条数据的供应商名称相同，虽然在操作中我们可以利用字段查重校验避免这种情况，但是系统会默认将其判定为数组，此时我们数据ID赋值时，将数组中[全部]更改为[0]，默认取第一条数据：

![](8b4e9824f0cb24288c01bade1699d179.jpg)

在其他场景中，若更新表单数据时用的是按数据ID更新，那么此时赋值时直接选择“数据ID”即可。

流程离开资质查验节点，修改表单数据（供应商状态），并回传该供应商表单信息到流程中的效果如下：

![](495224cc0e5998bfb42c8c0509fc63b6.jpg)