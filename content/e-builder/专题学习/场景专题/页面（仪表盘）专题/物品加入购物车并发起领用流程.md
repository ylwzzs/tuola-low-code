---
aliases: ["1972119483018137121"]
title: 物品加入购物车并发起领用流程
created: 2025-07-15
modified: 2025-07-15
tags: ['e-builder']
theme: e-builder
---

**1.** **编写目的**

在项目实施过程中，我们通常会遇到“物品加入购物车”的场景。例如在公司资产管理应用中，公司员工可以查看资产信息列表，并勾选部分资产放进购物车中；对于“空闲”状态的资产，可以批量勾选发起资产领用流程。

资产加入购物车并发起领用流程效果如下：

![](f0c438a6fc2f42f2271261a8c3b604ad.jpg)

**2.** **思路分析**

上述场景由【列表组件】、【悬浮按钮】作为主要的样式组件，并通过js、动作流等功能实现业务联动。用户可以查看所有资产，勾选多条资产加入购入车（已经加购的资产，check框置灰无法勾选）；点击按钮进入购物车界面，可以勾选多条资产移出购物车；或者可以勾选空闲中的资产，发起资产领用申请。

**3.** **操作说明**

**3.1**搭建资产信息表**

如下图所示，用户根据实际情况搭建资产信息表，注意资产信息表中需要添加一个人员多选字段“加购人员”，该字段的目的是用来过滤出购物车页面的资产信息：

![](04e6b89a11c2b5c6e281d22cb9a88610.jpg)

**3.2**搭建移动端资产页面**

**3.2.1**新建一个移动端页面，放入一个列表组件：**

列表组件的数据源选择资产信息表，配置显示字段。于此同时，开启列表的check框功能，并设置当收藏人员字段中包含当前人员时，check框置灰禁用，这是为了让用户区分哪些资产已经加购过：

![](edb05c76046285aed8e18ff9f91e64fb.jpg)

用户可以添加一些筛选组件便于搜索资产，例如本场景中使用【分段组件】，将资产状态进行划分（所有/空闲/占用），设置方式如下：

![](fa72c01ae7a3b5d9695185f5c9eee72d.jpg)

**3.2.2**之后在页面中放入悬浮按钮组件（按钮1）：**

按钮1用来勾选多条资产信息，触发动作流，修改加购人员字段，具体配置如下：

![](431e85431432bf4193b1015604e273bd.jpg)

其中，js可以参考页面右上角源码中的内容，列表数据id获取方式如下：

![](c36fec6f109851cbf0d1bdadc2f1e817.jpg)

该js需要调用动作流，动作流的目的是为了让资产信息表中的“加购人员”字段，多一个当前用户，这样就可以达到：用户A勾选了3条资产，点击这个写了js的按钮，就可以调用动作流，将资产信息表中这几条数据中的“加购人员”多添加一个用户A。

动作流配置如下：

![](efc67320d4a43658adc1c45c1f2b6da7.jpg)

演示效果如下：

![](875c0c13c5ad6691fc4feb8f9ed1a60d.jpg)

**3.2.3**之后再放入一个悬浮按钮组件（按钮2）：**

按钮2的目的是为了点击跳转至购物车界面，并且还有一个提示购物车资产数量的功能：

![](824131da8ae9d6c2b30966e59abdf49a.jpg)

数字提示的配置需要新建一个数据集，选择资产信息表，过滤出“加购人员属于当前人员”的数据（注意不是等于），并进行计数，配置方式如下：

![](08fe6147bb8fb7f5b772a8be9afcbb8e.jpg)

**3.3**配置购物车界面**

**3.3.1**放入列表组件，进行数据过滤：**

购物车界面放入列表组件，并进行数据过滤“加购人员属于当前用户”，这样就是展示自己的购物车，并且开启check框功能：

![](37fca252de0f37592aad294d87b7b791.jpg)

**3.3.2**放入悬浮按钮组件（按钮3）：**

该按钮的功能是帮助用户将资产移出购物车，配置方式与加入购物车类似，js配置如下：

![](037bebce64b81f80797da3fd01ec34cb.jpg)

动作流也与加入购物车的动作流类似，唯一不同的是此时不再是累加（=+）当前人员，而是要删除当前人员（=-）：

![](f478ec41a1594611a1b80c625adcb1bc.jpg)

**3.3.3**再放入一个悬浮按钮组件（按钮4）：**

按钮4的目的是为了让用户勾选购物车中的资产，能够便捷的发起流程，其js的配置与上面的按钮相似，替换掉列表id以及动作流id即可，动作流的配置如下：

![](a28c05acc80bfe1e9473afb3b5aeec66.jpg)

**总结：**经过各类功能的组合使用，即可配制出物品加入购物车的场景，本场景中只是介绍了主要的配置过程，为了给用户更好的体验，可以对一些细节点进行优化，例如点击按钮后添加一些提示等等：

![](4bea7a1cab58f1f91d4fdd615356c9a1.jpg)