---
aliases: ["1969172627615841335"]
title: 如何设计线索分配机制和私海池容量限制
created: 2025-07-15
modified: 2025-07-15
tags: ['e-builder']
theme: e-builder
---

**方案背景：**

CRM管理是企业销售管理制度的基础规则，是企业打造公平的销售平台、激活企业客户资源的关键功能。线索的分配机制和回流机制是CRM的重要组成部分，合理规范的机制管控能促进企业合理分配线索资源，提高客户的转化率。如在本案例中对客户进行分级管理，重要客户采用手动分配的机制，由销售总监将其分配给业务能力强的销售经理进行跟进；普通客户投入公海池，由销售经理自行领取线索跟进。对销售私海池进行数量限制，防止因个人线索资源过剩导致资源悬挂，耽误线索转化，认领客户线索数量达到私海池上限时阻止继续认领，并提示必须先释放现有线索才能重新认领，从而减少资源积压，提高资源利用。

**设计思路：**

客户线索录入系统后触发客户线索报备流程，对客户线索进行等级评判，确认是否为重要客户；重要客户进入手动分配节点，由销售总监委派指定销售跟进，流程结束后在销售负责人在私海池视图可见；普通客户进入归档节点，在公海池视图由所有销售人员自由领取。

线索手动分配提交前或线索自主认领确认前，通过动作流查询当前被分配人员或认领人员的私海池容量，容量不足时通过页面交互组件提示先释放线索资源再领取。

![](2651a581a98772edc1537170cfcd7c7e.jpg)

**搭建过程：**

1.搭建客户线索报备流程表单，以及不同流程节点的操作布局

关键字段为线索等级、认领状态、超时回流期限等，部分字段仅在特定场景显示（如线索等级字段仅在流程线索等级评判节点和重要线索手动分配节点显示），可通过设计不同的表单布局实现不同场景下客户线索卡片显示不同内容。

![](12f3f5e102b1075c947954cb4e242181.jpg)

图1 搭建客户线索报备流程表单

![](736175591469f1735204033c852abfb7.jpg)

图2 为不同场景创建表单布局

![](4eae409e2542f2862c2ad3caad1702db.jpg)

图3 流程线索等级评判节点编辑布局

![](e2eb45eca9cd1032090e8aaba7368736.jpg)

图4 流程重要线索分配节点编辑布局

![](7a9173d931496145190be6faa6ab217e.jpg)

图5 公海池视图线索详情表单布局

![](5aa5e0b52c578badff90af604fd38730.jpg)

图6 私海池视图线索详情表单布局

2.创建客户线索报备流程，设计流转路径和节点附加操作

发起客户线索报备流程之后，流程流转到线索等级评价节点，填写线索等级；

流程离开线索等级评价节点时有两个出口，分别流向归档节点和重要线索分配节点，设置出口条件决定流程的流转路径；

当流程正向到达结束节点时添加节点附加操作，重要线索到达结束节点时已手动分配销售负责人，认领状态更新为已认领；普通线索到达结束节点时未分配销售负责人，认领状态更新为未认领

![](a0b6ee9e7618881bb6551ce590b1581c.jpg)

图7 客户线索报备流程流转设置

3.重要线索分配节点提交时进行私海池容量校验

添加审批触发动作流，触发时机为流程正向离开重要线索分配节点时；

添加查询组件，查询流程分配的销售负责人当前已负责的线索总数；

添加条件分支组件判断流程分配的销售负责人私海池容量是否充足，当上级节点查询到的线索总数小于15时，代表私海池容量充足，允许线索分配，否则私海池容量达到上限，添加页面交互组件，启用阻止后续操作从而阻止流程流转，并且设置提示信息，弹窗提示“当前被分配人员私海池容量达到上限，请分配其他人员或提醒该人员释放线索！”，待节点处理人修改分配人员后点击审批会重复校验，直至校验通过。

![](b7d4efd4cdfc7689a2a2276eefaaff71.jpg)

图8 重要线索分配节点私海池容量校验动作流

![](5a7c1ce043c12359f7a484f2582b2f77.jpg)

图9 动作流校验提醒效果

4.创建公海池和私海池的客户线索查询台账

分别为客户线索报备表单新建公海池和私海池两个视图，其中公海池视图可查询线索等级为普通且认领状态为未认领的线索列表；私海池视图可查询负责人为当前系统操作人员的线索列表。

![](d813d280d4b72f927c166c5fa0db83e6.jpg)

图10 创建公海池和私海池表单视图

![](d4649a6ebfae466b663e71538da9f7b2.jpg)

图11 私海池视图条件设置

![](746a7af406b9922fd92d94aa33fcaef1.jpg)

图12 表单视图设置效果

5.公海池支持销售人员自行认领线索资源

1）为客户线索报备表单新建一个自定义按钮，名称是“线索认领“，显示位置是公海池视图的行上：

![](e110f2bf67eba108bf6152059cde5912.jpg)

图13 客户线索报备表单创建自定义按钮线索认领

![](806b2c4dbd22101cf78a8012534583a6.jpg)

图14 按钮显示效果

2）新建动作流实现线索确认认领前对认领人的私海池容量进行校验

触发事件为eBuilder事件触发-点击线索认领按钮后；

添加查询组件统计当前认领者负责的客户线索总数；

添加分支组件实现根据上级查询组件返回的查询结果执行不同操作，若当前认领者现负责的客户线索总数小于15，此人私海池容量充足，允许认领该线索，添加数据更新组件更新认领线索的销售负责人为当前人员，认领状态为已认领，分配时间为当前时间；否则该人员私海池容量已满，无法认领该线索，添加页面交互组件提醒该人员“您当前的私海池容量不足，无法认领新线索”

![](8315a44aa45546641835f7795a20bf34.jpg)

图15 点击认领线索按钮后校验认领人私海池容量

![](034fe9fb1a878f2925c156e9c79f3327.jpg)

图16 容量不足，认领失败提示

![](76be4af12b7e457eb2eb44c7e4f36ca9.jpg)

图17 认领成功提醒